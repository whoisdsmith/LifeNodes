/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __export = (target, all) => {
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __toCommonJS = (mod) => __copyProps(__defProp({}, "__esModule", { value: true }), mod);

// src/main.ts
var main_exports = {};
__export(main_exports, {
  default: () => ChatPlugin
});
module.exports = __toCommonJS(main_exports);
var import_obsidian3 = require("obsidian");

// src/view.ts
var import_obsidian = require("obsidian");

// src/common.ts
var PLUGIN_ID = "arenasys-ai-chat";
var HTTPStatus = {
  "0": "Unknown",
  "200": "OK",
  "201": "Created",
  "202": "Accepted",
  "203": "Non-Authoritative Information",
  "204": "No Content",
  "205": "Reset Content",
  "206": "Partial Content",
  "300": "Multiple Choices",
  "301": "Moved Permanently",
  "302": "Found",
  "303": "See Other",
  "304": "Not Modified",
  "305": "Use Proxy",
  "306": "Unused",
  "307": "Temporary Redirect",
  "400": "Bad Request",
  "401": "Unauthorized",
  "402": "Payment Required",
  "403": "Forbidden",
  "404": "Not Found",
  "405": "Method Not Allowed",
  "406": "Not Acceptable",
  "407": "Proxy Authentication Required",
  "408": "Request Timeout",
  "409": "Conflict",
  "410": "Gone",
  "411": "Length Required",
  "412": "Precondition Required",
  "413": "Request Entry Too Large",
  "414": "Request-URI Too Long",
  "415": "Unsupported Media Type",
  "416": "Requested Range Not Satisfiable",
  "417": "Expectation Failed",
  "418": "I'm a teapot",
  "429": "Too Many Requests",
  "500": "Internal Server Error",
  "501": "Not Implemented",
  "502": "Bad Gateway",
  "503": "Service Unavailable",
  "504": "Gateway Timeout",
  "505": "HTTP Version Not Supported"
};

// node_modules/eventsource-parser/dist/index.js
function createParser(onParse) {
  let isFirstChunk;
  let buffer;
  let startingPosition;
  let startingFieldLength;
  let eventId;
  let eventName;
  let data;
  reset();
  return {
    feed,
    reset
  };
  function reset() {
    isFirstChunk = true;
    buffer = "";
    startingPosition = 0;
    startingFieldLength = -1;
    eventId = void 0;
    eventName = void 0;
    data = "";
  }
  function feed(chunk) {
    buffer = buffer ? buffer + chunk : chunk;
    if (isFirstChunk && hasBom(buffer)) {
      buffer = buffer.slice(BOM.length);
    }
    isFirstChunk = false;
    const length = buffer.length;
    let position = 0;
    let discardTrailingNewline = false;
    while (position < length) {
      if (discardTrailingNewline) {
        if (buffer[position] === "\n") {
          ++position;
        }
        discardTrailingNewline = false;
      }
      let lineLength = -1;
      let fieldLength = startingFieldLength;
      let character;
      for (let index = startingPosition; lineLength < 0 && index < length; ++index) {
        character = buffer[index];
        if (character === ":" && fieldLength < 0) {
          fieldLength = index - position;
        } else if (character === "\r") {
          discardTrailingNewline = true;
          lineLength = index - position;
        } else if (character === "\n") {
          lineLength = index - position;
        }
      }
      if (lineLength < 0) {
        startingPosition = length - position;
        startingFieldLength = fieldLength;
        break;
      } else {
        startingPosition = 0;
        startingFieldLength = -1;
      }
      parseEventStreamLine(buffer, position, fieldLength, lineLength);
      position += lineLength + 1;
    }
    if (position === length) {
      buffer = "";
    } else if (position > 0) {
      buffer = buffer.slice(position);
    }
  }
  function parseEventStreamLine(lineBuffer, index, fieldLength, lineLength) {
    if (lineLength === 0) {
      if (data.length > 0) {
        onParse({
          type: "event",
          id: eventId,
          event: eventName || void 0,
          data: data.slice(0, -1)
          // remove trailing newline
        });
        data = "";
        eventId = void 0;
      }
      eventName = void 0;
      return;
    }
    const noValue = fieldLength < 0;
    const field = lineBuffer.slice(index, index + (noValue ? lineLength : fieldLength));
    let step = 0;
    if (noValue) {
      step = lineLength;
    } else if (lineBuffer[index + fieldLength + 1] === " ") {
      step = fieldLength + 2;
    } else {
      step = fieldLength + 1;
    }
    const position = index + step;
    const valueLength = lineLength - step;
    const value = lineBuffer.slice(position, position + valueLength).toString();
    if (field === "data") {
      data += value ? "".concat(value, "\n") : "\n";
    } else if (field === "event") {
      eventName = value;
    } else if (field === "id" && !value.includes("\0")) {
      eventId = value;
    } else if (field === "retry") {
      const retry = parseInt(value, 10);
      if (!Number.isNaN(retry)) {
        onParse({
          type: "reconnect-interval",
          value: retry
        });
      }
    }
  }
}
var BOM = [239, 187, 191];
function hasBom(buffer) {
  return BOM.every((charCode, index) => buffer.charCodeAt(index) === charCode);
}

// src/api.ts
var import_node_events = require("events");
var import_node_https = require("https");
function sanitize(text) {
  return [...text].map((c) => /^[\x00-\x7F]$/.test(c) ? c : c.split("").map((a) => "\\u" + a.charCodeAt(0).toString(16).padStart(4, "0")).join("")).join("");
}
var ERROR_SUFFIX = "Press to dismiss.";
var CHARS_PER_TOKEN = 3.35;
var ANTHROPIC_ENDPOINT = "https://api.anthropic.com";
var ANTHROPIC_PATH = "/v1/messages";
var OPENAI_ENDPOINT = "https://api.openai.com";
var OPENAI_PATH = "/v1/chat/completions";
var OPENROUTER_ENDPOINT = "https://openrouter.ai/api";
var TOGETHER_ENDPOINT = "https://api.together.xyz";
var COHERE_ENDPOINT = "https://api.cohere.ai";
var COHERE_PATH = "/v1/chat";
var ANTHROPIC_MODELS = {
  "claude-3-opus": "claude-3-opus-20240229",
  "claude-3-sonnet": "claude-3-sonnet-20240229",
  "claude-3-haiku": "claude-3-haiku-20240307"
};
var ANTHROPIC_SETTINGS = {
  temperature: "temperature",
  topK: "top_k",
  topP: "top_p"
};
var OPENAI_MODELS = {
  "gpt-4": "gpt-4",
  "gpt-4-turbo": "gpt-4-turbo-preview",
  "gpt-4-32k": "gpt-4-32k",
  "gpt-3.5-turbo": "gpt-3.5-turbo",
  "gpt-3.5-turbo-16k": "gpt-3.5-turbo-16k"
};
var OPENAI_SETTINGS = {
  temperature: "temperature",
  topK: "top_k",
  topP: "top_p",
  maxTokens: "max_tokens",
  frequencyPenalty: "frequency_penalty"
};
var COHERE_MODELS = {
  "command-r": "command-r",
  "command-r-plus": "command-r-plus"
};
var COHERE_SETTINGS = {
  temperature: "temperature",
  topK: "k",
  topP: "p",
  maxTokens: "max_tokens",
  frequencyPenalty: "frequency_penalty"
};
function formatSentance(text) {
  text = text.charAt(0).toUpperCase() + text.slice(1);
  if (text.charAt(text.length - 1) != ".") {
    text += ".";
  }
  return text;
}
function joinEndpoint(base, path) {
  if (base.charAt(base.length - 1) == path.charAt(0)) {
    base = base.slice(0, -1);
  }
  return base + path;
}
async function getMessages(history, target) {
  var _a;
  let messages = [];
  let contents = [];
  for (const [index, document2] of history.documents.entries()) {
    if (document2.mute) {
      continue;
    }
    const content = await ((_a = history.app) == null ? void 0 : _a.vault.read(document2.file));
    contents.push(
      `BEGIN DOCUMENT (${document2.file.path})
${content}
END DOCUMENT`
    );
  }
  for (const [index, entry] of history.entries.entries()) {
    if (target == entry) {
      break;
    }
    messages.push({
      role: entry.user ? "user" : "assistant",
      content: entry.content[entry.index]
    });
  }
  if (messages.length == 0) {
    messages.push({
      role: "user",
      content: ""
    });
  }
  const text = messages[0].content;
  if (contents.length > 0) {
    messages[0].content = `${contents.join("\n")}
BEGIN CHAT
${text}`;
  } else {
    messages[0].content = `BEGIN DOCUMENTS
NO SHARED DOCUMENTS
END DOCUMENTS
BEGIN CHAT
${text}`;
  }
  return messages;
}
async function getApproxTokens(history, settings) {
  const messages = await getMessages(
    history,
    history.entries[history.entries.length - 1]
  );
  let count = settings.systemPrompt.length;
  for (const message of messages) {
    count += message.content.length;
  }
  return Math.floor(count / CHARS_PER_TOKEN);
}
function getModel(settings, mapping) {
  let model = settings.apiModel;
  if (model == "custom") {
    model = settings.apiModelCustom;
  }
  if (model in mapping) {
    model = mapping[model];
  }
  return model;
}
function getContent(content, settings, mapping) {
  for (const [key, value] of Object.entries(mapping)) {
    if (key in settings && settings[key] != null) {
      content[value] = settings[key];
    }
  }
  return content;
}
function getAPI(settings) {
  switch (settings.apiProvider) {
    case "openai":
      return new OpenAIAPI(OPENAI_ENDPOINT);
    case "openrouter":
      return new OpenAIAPI(OPENROUTER_ENDPOINT);
    case "togetherai":
      return new OpenAIAPI(TOGETHER_ENDPOINT);
    case "openai-custom":
      return new OpenAIAPI(settings.apiEndpoint);
    case "anthropic":
      return new AnthropicAPI(ANTHROPIC_ENDPOINT);
    case "anthropic-custom":
      return new AnthropicAPI(settings.apiEndpoint);
    case "cohere":
      return new CohereAPI(COHERE_ENDPOINT);
  }
  return null;
}
var API = class {
  constructor(endpoint) {
    this.endpoint = endpoint;
    this.events = new import_node_events.EventEmitter();
  }
  async getEndpoint() {
    return this.endpoint;
  }
  async getBody(history, target, settings) {
    return "";
  }
  async getHeaders(settings) {
    return {};
  }
  async handleChunk(chunk, parser) {
    try {
      parser.feed(chunk);
    } catch (e) {
    }
  }
  async send(history, target, settings) {
    const url = await this.getEndpoint();
    const body = await this.getBody(history, target, settings);
    let headers = await this.getHeaders(settings);
    headers["charset"] = "UTF-8";
    headers["content-type"] = "application/json; charset=UTF-8";
    headers["content-length"] = body.length;
    const parser = createParser((event) => {
      var _a, _b;
      if (event.type != "event")
        return;
      const response = JSON.parse(event.data);
      const type = (_b = (_a = response.object) != null ? _a : response.type) != null ? _b : response.event_type;
      switch (type) {
        case "chat.completion.chunk":
        case "completion.chunk":
          let chunk = response.choices[0].delta.content;
          if (chunk != void 0) {
            this.events.emit("text", chunk);
          }
          break;
        case "content_block_start":
          if (response.content_block.type === "text") {
            this.events.emit("text", response.content_block.text);
          }
          break;
        case "content_block_delta":
          if (response.delta.type === "text_delta") {
            this.events.emit("text", response.delta.text);
          }
          break;
        case "text-generation":
          this.events.emit("text", response.text);
          break;
        default:
          break;
      }
    });
    this.request = (0, import_node_https.request)(
      url,
      {
        method: "POST",
        headers
      },
      async (response) => {
        var _a;
        const status = (_a = response.statusCode) != null ? _a : 0;
        this.events.emit("status", status);
        if (status == 200) {
          response.socket.setTimeout(0);
          response.setEncoding("utf8");
          response.on("data", async (chunk) => {
            await this.handleChunk(chunk, parser);
          });
          response.on("end", () => {
            this.events.emit("done");
          });
        } else {
          let data = "";
          response.on("data", (chunk) => {
            data += chunk;
          });
          response.on("close", () => {
            let title = `HTTP ${status} ${HTTPStatus[status]}`;
            let details = ERROR_SUFFIX;
            try {
              let err = formatSentance(
                JSON.parse(data).error.message
              );
              details = `${err}
${details}`;
            } catch (e) {
            }
            this.events.emit("error", `${title}
${details}`);
          });
        }
      }
    );
    this.request.on("error", (e) => {
      this.events.emit(
        "error",
        `Request Failed
${e.name}: ${formatSentance(
          e.message
        )}
${ERROR_SUFFIX}`
      );
    });
    this.request.on("timeout", (e) => {
      this.events.emit(
        "error",
        `Request Failed
Timeout
${ERROR_SUFFIX}`
      );
      this.events.emit("close");
    });
    this.request.on("close", () => {
      this.events.emit("close");
    });
    this.request.setTimeout(10 * 1e3);
    this.request.write(Buffer.from(body, "utf8"));
    this.request.end();
  }
  async abort() {
    if (this.request) {
      this.events.emit("abort");
      this.request.destroy();
    }
  }
};
var AnthropicAPI = class extends API {
  async getEndpoint() {
    return joinEndpoint(this.endpoint, ANTHROPIC_PATH);
  }
  async getBody(history, target, settings) {
    var _a;
    const messages = await getMessages(history, target);
    const content = getContent(
      {
        model: getModel(settings, ANTHROPIC_MODELS),
        messages,
        stream: true,
        system: settings.systemPrompt,
        max_tokens: (_a = settings.maxTokens) != null ? _a : 1024
      },
      settings,
      ANTHROPIC_SETTINGS
    );
    const body = sanitize(JSON.stringify(content));
    return body;
  }
  async getHeaders(settings) {
    const headers = {
      "anthropic-version": "2023-06-01",
      "anthropic-beta": "messages-2023-12-15",
      "x-api-key": settings.apiKey
    };
    return headers;
  }
};
var OpenAIAPI = class extends API {
  async getEndpoint() {
    return joinEndpoint(this.endpoint, OPENAI_PATH);
  }
  async getBody(history, target, settings) {
    const messages = await getMessages(history, target);
    if (settings.systemPrompt.trim().length != 0) {
      messages.unshift({
        role: "system",
        content: settings.systemPrompt
      });
    }
    const content = getContent(
      {
        model: getModel(settings, OPENAI_MODELS),
        messages,
        stream: true
      },
      settings,
      OPENAI_SETTINGS
    );
    const body = sanitize(JSON.stringify(content));
    return body;
  }
  async getHeaders(settings) {
    const headers = {
      accept: "application/json",
      authorization: `Bearer ${settings.apiKey}`
    };
    return headers;
  }
};
var CohereAPI = class extends API {
  async getEndpoint() {
    return joinEndpoint(this.endpoint, COHERE_PATH);
  }
  async getBody(history, target, settings) {
    let messages = await getMessages(history, target);
    let lastMessage = messages.last();
    messages.splice(messages.length - 1, 1);
    const roleMap = {
      user: "USER",
      assistant: "CHATBOT"
    };
    messages = messages.map((value) => {
      return { role: roleMap[value.role], message: value.content };
    });
    let request2 = {
      model: getModel(settings, COHERE_MODELS),
      message: lastMessage.content,
      chat_history: messages,
      stream: true
    };
    if (settings.systemPrompt.trim().length != 0) {
      request2.preamble = settings.systemPrompt;
    }
    const content = getContent(request2, settings, COHERE_SETTINGS);
    const body = sanitize(JSON.stringify(content));
    return body;
  }
  async getHeaders(settings) {
    const headers = {
      accept: "application/json",
      authorization: `Bearer ${settings.apiKey}`
    };
    return headers;
  }
  async handleChunk(chunk, parser) {
    var _a;
    chunk = ((_a = this.currentChunk) != null ? _a : "") + chunk;
    this.currentChunk = "";
    let chunks = chunk.split("\n");
    let lastChunk = chunks.pop();
    if (lastChunk.length != 0) {
      this.currentChunk = lastChunk;
    }
    for (let chunk2 of chunks) {
      parser.feed(`event: cohere
data:${chunk2}

`);
    }
  }
};

// src/view.ts
var VIEW_TYPE_CHAT = "arenasys-ai-chat-view";
function setIcon(el, name) {
  var _a;
  el.empty();
  el.appendChild((_a = (0, import_obsidian.getIcon)(name)) != null ? _a : (0, import_obsidian.getIcon)("bug"));
}
var ChatView = class extends import_obsidian.ItemView {
  constructor(leaf, profiles) {
    super(leaf);
    this.profiles = profiles;
  }
  getSettings() {
    return this.profiles.settings[this.profiles.current];
  }
  getViewType() {
    return VIEW_TYPE_CHAT;
  }
  getDisplayText() {
    return "Chat";
  }
  getIcon() {
    return "message-square";
  }
  setWorking(working) {
    this.working = working;
    this.syncGenerateButtonToDom();
  }
  async setText(el, text) {
    el.empty();
    const lines = text.split("\n");
    for (const [index, line] of lines.entries()) {
      el.appendText(line);
      if (index != lines.length - 1) {
        el.createEl("br");
      }
    }
  }
  async setMarkdown(el, text) {
    const tmp = document.createElement("div");
    await import_obsidian.MarkdownRenderer.render(this.app, text, tmp, "", this);
    el.empty();
    const length = tmp.children.length;
    for (var i = 0; i < length; i++) {
      const thisNode = tmp.children[0];
      const nextNode = tmp.children[1];
      el.appendChild(thisNode);
      if ((thisNode == null ? void 0 : thisNode.tagName) == "P" && (nextNode == null ? void 0 : nextNode.tagName) == "P") {
        el.appendChild(document.createElement("br"));
      }
    }
  }
  addPlainPaste(element) {
    element.addEventListener("paste", (event) => {
      var _a;
      event.preventDefault();
      const text = (_a = event.clipboardData) == null ? void 0 : _a.getData("text/plain");
      if (text) {
        document.execCommand("insertText", false, text);
      }
    });
  }
  addEntry(entry) {
    const container = this.entryContainer;
    entry.element = container.createEl("div", { cls: "asys__entry" });
    entry.element.addClass(entry.user ? "asys__right" : "asys__left");
    const controls = entry.element.createEl("div", {
      cls: "asys__controls"
    });
    const content = entry.element.createEl("div", {
      cls: "asys__content"
    });
    content.addEventListener("input", (event) => {
      this.syncEntryFromDom(entry);
    });
    const editButton = controls.createEl("button", {
      cls: "asys__icon clickable-icon"
    });
    setIcon(editButton, "more-horizontal");
    editButton.addEventListener("click", (event) => {
      if (this.editSkip) {
        this.editSkip = false;
        return;
      }
      entry.edit = true;
      this.editOriginal = entry.content[entry.index];
      this.editRevert = false;
      this.syncEntryToDom(entry);
      content.focus();
    });
    if (!entry.user) {
      const label = controls.createEl("span", { cls: "asys__label" });
      const leftButton = controls.createEl("button", {
        cls: "asys__icon clickable-icon"
      });
      setIcon(leftButton, "chevron-left");
      leftButton.addEventListener("click", (event) => {
        if (entry.index - 1 >= 0) {
          entry.index -= 1;
          this.syncEntryToDom(entry);
        }
      });
      const rightButton = controls.createEl("button", {
        cls: "asys__icon clickable-icon"
      });
      setIcon(rightButton, "chevron-right");
      rightButton.addEventListener("click", (event) => {
        if (entry.index + 1 < entry.content.length) {
          entry.index += 1;
          this.syncEntryToDom(entry);
        } else {
          this.redoResponse(entry);
        }
      });
    }
    const trashButton = controls.createEl("button", {
      cls: "asys__icon clickable-icon asys__red"
    });
    let clicked = false;
    setIcon(trashButton, "x");
    trashButton.addEventListener("click", (event) => {
      if (clicked) {
        this.removeEntry(entry);
      } else if (!this.editRevert) {
        clicked = true;
        setIcon(trashButton, "check");
        setTimeout(() => {
          clicked = false;
          setIcon(trashButton, "x");
        }, 500);
      } else {
        this.editRevert = false;
      }
    });
    trashButton.addEventListener("contextmenu", (event) => {
      if (trashButton.ariaDisabled === "true") {
        return;
      }
      this.entryMenuIndex = this.history.entries.indexOf(entry);
      const rect = trashButton.getBoundingClientRect();
      this.entryMenu.showAtPosition({ x: rect.right, y: rect.bottom });
    });
    content.addEventListener("focusout", (event) => {
      this.editSkip = event.relatedTarget == editButton;
      this.editRevert = event.relatedTarget == trashButton;
      entry.edit = false;
      this.syncEntryToDom(entry);
    });
    this.addPlainPaste(content);
    entry.element.addEventListener("mouseover", (event) => {
      if (entry == this.history.entries[this.history.entries.length - 1]) {
        this.tokenContainer.removeClass("asys__hidden");
      }
    });
    entry.element.addEventListener("mouseout", (event) => {
      if (entry == this.history.entries[this.history.entries.length - 1]) {
        this.tokenContainer.addClass("asys__hidden");
      }
    });
    this.syncEntryToDom(entry);
    this.history.entries.push(entry);
    return entry;
  }
  removeEntry(entry) {
    try {
      if (entry == this.history.entries[this.history.entries.length - 1]) {
        this.tokenContainer.addClass("asys__hidden");
      }
      this.entryContainer.removeChild(entry.element);
      this.history.entries.remove(entry);
    } catch (e) {
    }
  }
  cleanEntry(entry) {
    entry.new = null;
    if (entry.content.length == 0) {
      this.removeEntry(entry);
    } else {
      entry.index = entry.content.length - 1;
      this.syncEntryToDom(entry);
    }
  }
  finishEntry(entry) {
    if (entry.new != null) {
      entry.content.push(entry.new);
      entry.index = entry.content.length - 1;
      entry.new = null;
      this.syncEntryToDom(entry);
    }
  }
  async syncEntryToDom(entry) {
    var _a, _b;
    const controls = entry.element.children[0];
    const editButton = controls.children[0];
    const trashButton = controls.lastElementChild;
    const content = entry.element.children[1];
    const editing = content.getAttribute("contenteditable") == "true";
    if (editing && !entry.edit) {
      if (this.editRevert) {
        entry.content[entry.index] = this.editOriginal;
      }
      (_a = entry.element) == null ? void 0 : _a.removeClass("asys__edit");
      setIcon(editButton, "more-horizontal");
      editButton.removeClass("asys__green");
      editButton.ariaLabel = "Edit";
      trashButton.ariaLabel = "Delete";
    }
    if (!editing && entry.edit) {
      (_b = entry.element) == null ? void 0 : _b.addClass("asys__edit");
      setIcon(editButton, "check");
      editButton.addClass("asys__green");
    }
    content.setAttribute("contenteditable", entry.edit ? "true" : "false");
    const invalid = entry.content.length == 0 || entry.index >= entry.content.length;
    const working = entry.new != null;
    const waiting = entry.new != null && entry.new.length != 0;
    if (invalid && !waiting) {
      content.setText("...");
    } else {
      const text = waiting ? entry.new : entry.content[entry.index];
      if (entry.edit) {
        await this.setText(content, text);
      } else {
        await this.setMarkdown(content, text);
      }
    }
    editButton.ariaLabel = entry.edit ? "Accept" : "Edit";
    editButton.ariaDisabled = invalid || working ? "true" : "false";
    trashButton.ariaLabel = entry.edit ? "Revert" : "Delete";
    trashButton.ariaDisabled = invalid || working ? "true" : "false";
    if (!entry.user) {
      const label = controls.children[1];
      label.setText(
        entry.content.length == 0 ? "" : `${entry.index + 1} of ${entry.content.length}`
      );
      const leftButton = controls.children[2];
      leftButton.ariaDisabled = entry.index == 0 || invalid || entry.edit ? "true" : "false";
      leftButton.ariaLabel = "Previous";
      const rightButton = controls.children[3];
      rightButton.ariaDisabled = invalid || entry.edit ? "true" : "false";
      rightButton.ariaLabel = "Next";
    }
  }
  syncEntryFromDom(entry) {
    const content = entry.element.children[1];
    entry.content[entry.index] = content.innerText;
  }
  addDocument(file, append = true) {
    const row = document.createElement("div");
    row.addClass("asys__document-row");
    const element = row.createDiv({ cls: "asys__document" });
    const doc = {
      file,
      element: row,
      pin: false,
      mute: false
    };
    if (append || this.documentContainer.children.length == 0) {
      this.documentContainer.appendChild(row);
      this.history.documents.push(doc);
    } else {
      this.documentContainer.insertBefore(
        row,
        this.documentContainer.firstChild
      );
      this.history.documents.unshift(doc);
    }
    const mute = element.createEl("button", {
      cls: "asys__mute asys__toggle asys__icon clickable-icon"
    });
    mute.ariaLabel = "Hide/Unhide document";
    setIcon(mute, "eye");
    mute.addEventListener("click", (event) => {
      if (doc.mute) {
        mute.removeClass("asys__toggled");
        setIcon(mute, "eye");
        doc.mute = false;
      } else {
        mute.addClass("asys__toggled");
        setIcon(mute, "eye-off");
        doc.mute = true;
      }
    });
    const pin = element.createEl("button", {
      cls: "asys__pin asys__toggle asys__icon clickable-icon"
    });
    pin.ariaLabel = "Pin/Unpin document";
    setIcon(pin, "pin-off");
    pin.addEventListener("click", (event) => {
      if (doc.pin) {
        pin.removeClass("asys__toggled");
        doc.pin = false;
        setIcon(pin, "pin-off");
        const isFirst = doc == this.history.documents[0];
        if (!isFirst) {
          this.removeDocument(doc);
        }
        const current = this.app.workspace.getActiveFile();
        if (current) {
          this.setCurrentDocument(current);
        }
      } else {
        pin.addClass("asys__toggled");
        setIcon(pin, "pin");
        doc.pin = true;
      }
    });
    const content = element.createDiv();
    this.syncDocumentToDom(doc);
  }
  removeDocument(doc) {
    this.history.documents.remove(doc);
    this.documentContainer.removeChild(doc.element);
  }
  setCurrentDocument(file) {
    if (this.history.documents.length == 0) {
      this.addDocument(file);
    }
    const exists = this.history.documents.some((document2, index) => {
      return document2.file == file && document2.pin;
    });
    if (!exists) {
      if (!this.history.documents[0].pin) {
        this.history.documents[0].file = file;
        this.syncDocumentToDom(this.history.documents[0]);
      } else {
        this.addDocument(file, false);
      }
    } else if (!this.history.documents[0].pin) {
      const doc = this.history.documents[0];
      this.history.documents.remove(doc);
      this.documentContainer.removeChild(doc.element);
    }
  }
  syncDocumentToDom(document2) {
    const row = document2.element;
    const element = row.children[0];
    const pin = element.children[0];
    const mute = element.children[1];
    const content = element.children[2];
    content.setText(document2.file.path);
  }
  checkCurrentDocument() {
    if (this.history.documents.length > 0) {
      const document2 = this.history.documents[0];
      const element = document2.element;
      const current = element.innerText;
      const target = document2.file.path;
      if (current != target) {
        this.syncDocumentToDom(document2);
      }
    }
  }
  async checkCurrentTokens() {
    const tokens = await getApproxTokens(this.history, this.getSettings());
    this.tokenContainer.setText(`${tokens} Tokens`);
  }
  syncGenerateButtonToDom() {
    const button = this.inputContainer.children[0];
    if (this.working) {
      button.addClass("asys__working");
      setIcon(button, "square");
    } else {
      button.removeClass("asys__working");
      setIcon(button, "play");
    }
  }
  snapToBottom() {
    const background = this.containerEl.children[1];
    background.scrollTop = background.scrollHeight;
  }
  async hidePopup() {
    this.popupContainer.removeClass("asys__fadeIn");
    this.popupContainer.addClass("asys__fadeOut");
  }
  async showPopup(message) {
    await this.setText(this.popupContainer, message);
    this.popupContainer.removeClass("asys__fadeOut");
    this.popupContainer.addClass("asys__fadeIn");
    this.popupContainer.addEventListener("click", (event) => {
      this.hidePopup();
    });
  }
  async redoResponse(entry) {
    entry.index = entry.content.length;
    this.syncEntryToDom(entry);
    this.makeRequest(entry);
  }
  async getResponse() {
    const response = this.addEntry({
      user: false,
      edit: false,
      new: null,
      index: 0,
      content: []
    });
    this.makeRequest(response);
  }
  async handleInput(input) {
    const isEmpty = input.trim().length == 0;
    const lastEntry = this.history.entries[this.history.entries.length - 1];
    if (lastEntry && lastEntry.user) {
      if (!isEmpty) {
        lastEntry.content[lastEntry.index] += `
${input}`;
        this.syncEntryToDom(lastEntry);
      }
      this.getResponse();
    } else {
      if (!isEmpty) {
        this.addEntry({
          user: true,
          edit: false,
          new: null,
          index: 0,
          content: [input]
        });
        this.getResponse();
      }
    }
  }
  async makeRequest(entry) {
    this.setWorking(true);
    const settings = this.getSettings();
    const isLast = entry == this.history.entries[this.history.entries.length - 1];
    this.api = getAPI(settings);
    this.api.events.on("text", (text) => {
      if (text.length == 0) {
        return;
      }
      if (entry.new == null) {
        entry.new = "";
      }
      entry.new += text;
      this.syncEntryToDom(entry);
      if (isLast) {
        this.snapToBottom();
      }
    });
    this.api.events.on("status", (status) => {
      if (status != 200) {
        if (isLast) {
          this.snapToBottom();
        }
      }
    });
    this.api.events.on("done", () => {
      this.finishEntry(entry);
    });
    this.api.events.on("error", (error) => {
      entry.new = null;
      this.cleanEntry(entry);
      this.syncEntryToDom(entry);
      this.showPopup(error);
    });
    this.api.events.on("abort", () => {
      this.finishEntry(entry);
    });
    this.api.events.on("close", () => {
      this.cleanEntry(entry);
      this.setWorking(false);
    });
    await this.api.send(this.history, entry, settings);
    return;
  }
  async abortRequest() {
    if (this.working && this.api) {
      await this.api.abort();
    }
  }
  async addChat() {
    this.history = {
      entries: [],
      documents: [],
      app: this.app
    };
    const background = this.containerEl.children[1];
    background.addClass("asys__background");
    background.empty();
    this.entryContainer = background.createEl("div", {
      cls: "asys__entries"
    });
    const tmp = this.entryContainer.createEl("div");
    const settings = tmp.createEl("button", {
      cls: "asys__settings clickable-icon view-action"
    });
    settings.ariaLabel = "More options";
    this.documentContainer = tmp.createEl("div");
    setIcon(settings, "more-vertical");
    const settingsMenu = new import_obsidian.Menu();
    settingsMenu.addItem((item) => {
      item.setIcon("settings");
      item.setTitle("Open settings");
      item.onClick((e) => {
        this.app.setting.open();
        if (this.app.setting.lastTabId !== PLUGIN_ID)
          this.app.setting.openTabById(PLUGIN_ID);
      });
    });
    settingsMenu.addSeparator();
    settingsMenu.addItem((item) => {
      item.setIcon("trash");
      item.setTitle("Clear chat");
      item.setWarning(true);
      item.onClick((e) => {
        this.addChat();
      });
    });
    settings.addEventListener("mousedown", (event) => {
      if (this.menuOpen) {
        this.menuSkip = true;
      }
    });
    settings.addEventListener("click", (event) => {
      if (this.menuSkip) {
        this.menuSkip = false;
        return;
      }
      const rect = settings.getBoundingClientRect();
      settingsMenu.showAtPosition({ x: rect.right, y: rect.bottom });
      this.menuOpen = true;
    });
    settingsMenu.onHide(() => {
      this.menuOpen = false;
    });
    this.entryMenu = new import_obsidian.Menu();
    this.entryMenu.addItem((item) => {
      item.setIcon("trash");
      item.setTitle("Delete below");
      item.setWarning(true);
      item.onClick((e) => {
        let idx = this.entryMenuIndex + 1;
        while (idx < this.history.entries.length) {
          const before = this.history.entries.length;
          this.removeEntry(this.history.entries[idx]);
          if (before == this.history.entries.length) {
            break;
          }
        }
      });
    });
    const current = this.app.workspace.getActiveFile();
    if (current) {
      this.setCurrentDocument(current);
    }
    this.tokenContainer = background.createDiv({
      cls: "asys__tokens asys__hidden"
    });
    this.inputContainer = background.createDiv({
      cls: "asys__input-container"
    });
    const inputButton = this.inputContainer.createEl("button", {
      cls: "asys__icon asys__input-button clickable-icon"
    });
    inputButton.ariaLabel = "Stop";
    setIcon(inputButton, "play");
    inputButton.addEventListener("click", async (event) => {
      if (this.working) {
        this.abortRequest();
      }
    });
    const input = this.inputContainer.createDiv({ cls: "asys__input" });
    input.setAttribute("contenteditable", "true");
    input.setAttribute("placeholder", "Ask something...");
    input.addEventListener("keydown", async (event) => {
      if (event.key === "Enter" && !event.shiftKey) {
        await this.hidePopup();
        if (!this.working) {
          await this.handleInput(input.innerText);
          input.empty();
        }
        event.preventDefault();
      }
    });
    input.addEventListener("input", (event) => {
      this.snapToBottom();
      if (input.innerText == "\n") {
        input.empty();
      }
    });
    this.addPlainPaste(input);
    this.popupContainer = background.createEl("div", {
      cls: "asys__popup asys__fadeOut"
    });
  }
  async onOpen() {
    await this.addChat();
    this.registerEvent(
      this.app.workspace.on("file-open", (file) => {
        this.setCurrentDocument(file);
        this.checkCurrentTokens();
      })
    );
    this.registerInterval(
      window.setInterval(() => this.checkCurrentDocument(), 1e3)
    );
    this.registerInterval(
      window.setInterval(() => this.checkCurrentTokens(), 5e3)
    );
  }
  async onClose() {
  }
};

// src/settings.ts
var import_obsidian2 = require("obsidian");
var DEFAULT_SETTINGS = {
  current: 0,
  names: ["Default"],
  settings: [
    {
      apiProvider: "openai",
      apiModel: "gpt-4",
      apiModelCustom: "",
      apiKey: "",
      apiEndpoint: "",
      systemPrompt: "You are an assistant in Obsidian, a note-taking program. Shared notes/documents are provided. Dont show the document formatting (BEGIN DOCUMENT etc).",
      maxTokens: null,
      temperature: null,
      topK: null,
      topP: null,
      frequencyPenalty: null
    }
  ]
};
var PROVIDERS = {
  anthropic: "Anthropic",
  openai: "OpenAI",
  cohere: "Cohere",
  openrouter: "OpenRouter",
  togetherai: "TogetherAI",
  "openai-custom": "OpenAI compatible",
  "anthropic-custom": "Anthropic compatible"
};
var PROVIDER_MODELS = {
  anthropic: {
    "claude-3-opus": "Claude 3 Opus",
    "claude-3-sonnet": "Claude 3 Sonnet",
    "claude-3-haiku": "Claude 3 Haiku"
  },
  openai: {
    "gpt-4": "GPT-4",
    "gpt-4-turbo": "GPT-4 Turbo",
    "gpt-3.5-turbo": "GPT-3.5 Turbo"
  },
  cohere: {
    "command-r": "Command R",
    "command-r-plus": "Command R+"
  },
  openrouter: {},
  togetherai: {},
  "openai-custom": {},
  "anthropic-custom": {}
};
var ChatSettingTab = class extends import_obsidian2.PluginSettingTab {
  constructor(app, plugin) {
    super(app, plugin);
    this.plugin = plugin;
  }
  isNameAvailable(name) {
    return name.length > 0 && !this.plugin.profiles.names.includes(name);
  }
  addSetting(name = "") {
    if (name.length == 0) {
      name = DEFAULT_SETTINGS.names[0];
    }
    const settings = {
      ...DEFAULT_SETTINGS.settings[0]
    };
    this.plugin.profiles.names.push(name);
    this.plugin.profiles.settings.push(settings);
    this.plugin.profiles.current = this.plugin.profiles.names.length - 1;
  }
  display() {
    const { containerEl } = this;
    containerEl.empty();
    const currentIndex = this.plugin.profiles.current;
    const currentName = this.plugin.profiles.names[currentIndex];
    const currentSettings = this.plugin.profiles.settings[currentIndex];
    const profileNames = this.plugin.profiles.names.reduce(
      (a, v) => ({ ...a, [v]: v }),
      {}
    );
    new import_obsidian2.Setting(containerEl).setHeading().setName("Profile").setClass("asys__setting-heading");
    new import_obsidian2.Setting(containerEl).setName("Current profile").addDropdown(async (component) => {
      component.selectEl.addClass("asys__setting-medium");
      component.addOptions(profileNames);
      component.setValue(currentName);
      component.onChange(async (value2) => {
        const idx = this.plugin.profiles.names.indexOf(value2);
        this.plugin.profiles.current = idx;
        await this.plugin.saveSettings();
        await this.display();
      });
    });
    let renameName = "";
    new import_obsidian2.Setting(containerEl).setName("Edit profile").addButton((component) => {
      component.buttonEl.addClass("asys__setting-small");
      component.setButtonText("Delete");
      component.onClick(async () => {
        this.plugin.profiles.names.splice(currentIndex, 1);
        this.plugin.profiles.settings.splice(currentIndex, 1);
        this.plugin.profiles.current = Math.max(
          currentIndex - 1,
          0
        );
        if (this.plugin.profiles.names.length == 0) {
          this.addSetting();
        }
        await this.plugin.saveSettings();
        await this.display();
      });
    }).addText((component) => {
      component.inputEl.addClass("asys__setting-name");
      component.setPlaceholder("Name");
      component.onChange((value2) => {
        renameName = value2;
      });
    }).addButton((component) => {
      component.buttonEl.addClass("asys__setting-small");
      component.setButtonText("Rename");
      component.onClick(async () => {
        if (this.isNameAvailable(renameName)) {
          this.plugin.profiles.names[currentIndex] = renameName;
          await this.plugin.saveSettings();
          await this.display();
        }
      });
    });
    let newName = "";
    new import_obsidian2.Setting(containerEl).setName("New profile").addText((component) => {
      component.inputEl.addClass("asys__setting-name");
      component.setPlaceholder("Name");
      component.onChange((value2) => {
        newName = value2;
      });
    }).addButton((component) => {
      component.buttonEl.addClass("asys__setting-small");
      component.setButtonText("New");
      component.onClick(async () => {
        if (this.isNameAvailable(newName)) {
          this.addSetting(newName);
          await this.plugin.saveSettings();
          await this.display();
        }
      });
    });
    new import_obsidian2.Setting(containerEl).setHeading().setName("Configure").setClass("asys__setting-heading");
    new import_obsidian2.Setting(containerEl).setName("API provider").addDropdown((component) => {
      component.selectEl.addClass("asys__setting-medium");
      component.addOptions(PROVIDERS).setValue(currentSettings.apiProvider).onChange(async (value2) => {
        currentSettings.apiProvider = value2;
        currentSettings.apiModel = "custom";
        for (var value2 in PROVIDER_MODELS[value2]) {
          currentSettings.apiModel = value2;
          break;
        }
        await this.plugin.saveSettings();
        await this.display();
      });
    });
    let provider = currentSettings.apiProvider;
    if (provider.endsWith("custom")) {
      new import_obsidian2.Setting(containerEl).setName("API endpoint").setDesc(
        provider == "openai-custom" ? "Any OpenAI compatible endpoint." : "Any Anthropic compatible endpoint."
      ).addText((component) => {
        component.inputEl.addClass("asys__setting-medium");
        component.setPlaceholder("Enter a url").setValue(currentSettings.apiEndpoint).onChange(async (value2) => {
          currentSettings.apiEndpoint = value2;
          await this.plugin.saveSettings();
        });
      });
    }
    let current = currentSettings.apiModel;
    let available = {
      ...PROVIDER_MODELS[currentSettings.apiProvider],
      custom: "Custom"
    };
    if (!(current in available)) {
      for (var value in available) {
        current = value;
        break;
      }
      currentSettings.apiModel = current;
      this.plugin.saveSettings();
    }
    const modelSetting = new import_obsidian2.Setting(containerEl).setName("API model").addDropdown((component) => {
      if (current != "custom") {
        component.selectEl.addClass("asys__setting-medium");
      }
      component.addOptions(available).setValue(current).onChange(async (value2) => {
        currentSettings.apiModel = value2;
        await this.plugin.saveSettings();
        await this.display();
      });
    });
    if (currentSettings.apiModel.endsWith("custom")) {
      modelSetting.addText((text) => {
        text.inputEl.addClass("asys__setting-medium");
        text.setPlaceholder("Enter a model name").setValue(currentSettings.apiModelCustom).onChange(async (value2) => {
          currentSettings.apiModelCustom = value2;
          await this.plugin.saveSettings();
        });
      });
    }
    new import_obsidian2.Setting(containerEl).setName("API key").addText((text) => {
      text.inputEl.addClass("asys__setting-medium");
      text.setPlaceholder("Enter your key").setValue(currentSettings.apiKey).onChange(async (value2) => {
        currentSettings.apiKey = value2;
        await this.plugin.saveSettings();
      });
    });
    new import_obsidian2.Setting(containerEl).setName("System prompt").addTextArea((text) => {
      text.setValue(currentSettings.systemPrompt);
      text.onChange(async (value2) => {
        currentSettings.systemPrompt = value2;
        await this.plugin.saveSettings();
      });
      text.inputEl.addClass("asys__setting-prompt");
      text.setPlaceholder("Default");
    });
    new import_obsidian2.Setting(containerEl).setName("Max tokens").addText((text) => {
      var _a, _b;
      text.inputEl.addClass("asys__setting-medium");
      text.setPlaceholder("Default").setValue((_b = (_a = currentSettings.maxTokens) == null ? void 0 : _a.toFixed(0)) != null ? _b : "").onChange(async (value2) => {
        currentSettings.maxTokens = Number.parseInt(value2);
        if (!Number.isFinite(currentSettings.maxTokens)) {
          currentSettings.maxTokens = null;
        }
        await this.plugin.saveSettings();
      });
    });
    new import_obsidian2.Setting(containerEl).setName("Temperature").addText((text) => {
      var _a, _b;
      text.inputEl.addClass("asys__setting-medium");
      text.setPlaceholder("Default").setValue((_b = (_a = currentSettings.temperature) == null ? void 0 : _a.toFixed(2)) != null ? _b : "").onChange(async (value2) => {
        currentSettings.temperature = Number.parseFloat(value2);
        if (!Number.isFinite(currentSettings.temperature)) {
          currentSettings.temperature = null;
        }
        await this.plugin.saveSettings();
      });
    });
    new import_obsidian2.Setting(containerEl).setName("Top K").addText((text) => {
      var _a, _b;
      text.inputEl.addClass("asys__setting-medium");
      text.setPlaceholder("Default").setValue((_b = (_a = currentSettings.topK) == null ? void 0 : _a.toFixed(2)) != null ? _b : "").onChange(async (value2) => {
        currentSettings.topK = Number.parseFloat(value2);
        if (!Number.isFinite(currentSettings.topK)) {
          currentSettings.topK = null;
        }
        await this.plugin.saveSettings();
      });
    });
    new import_obsidian2.Setting(containerEl).setName("Top P").addText((text) => {
      var _a, _b;
      text.inputEl.addClass("asys__setting-medium");
      text.setPlaceholder("Default").setValue((_b = (_a = currentSettings.topP) == null ? void 0 : _a.toFixed(2)) != null ? _b : "").onChange(async (value2) => {
        currentSettings.topP = Number.parseFloat(value2);
        if (!Number.isFinite(currentSettings.topP)) {
          currentSettings.topP = null;
        }
        await this.plugin.saveSettings();
      });
    });
    if (currentSettings.apiProvider != "anthropic") {
      new import_obsidian2.Setting(containerEl).setName("Frequency penalty").addText((text) => {
        var _a, _b;
        text.inputEl.addClass("asys__setting-medium");
        text.setPlaceholder("Default").setValue(
          (_b = (_a = currentSettings.frequencyPenalty) == null ? void 0 : _a.toFixed(2)) != null ? _b : ""
        ).onChange(async (value2) => {
          currentSettings.frequencyPenalty = Number.parseFloat(value2);
          if (!Number.isFinite(
            currentSettings.frequencyPenalty
          )) {
            currentSettings.frequencyPenalty = null;
          }
          await this.plugin.saveSettings();
        });
      });
    }
  }
};

// src/main.ts
var ChatPlugin = class extends import_obsidian3.Plugin {
  async onload() {
    await this.loadSettings();
    this.registerView(
      VIEW_TYPE_CHAT,
      (leaf) => new ChatView(leaf, this.profiles)
    );
    await this.activateView();
    this.addCommand({
      id: "ai-chat-show-chat",
      name: "Show chat",
      callback: async () => {
        const { workspace } = this.app;
        let leaves = workspace.getLeavesOfType(VIEW_TYPE_CHAT);
        if (leaves.length == 0) {
          const leaf = this.app.workspace.getRightLeaf(false);
          await (leaf == null ? void 0 : leaf.setViewState({
            type: VIEW_TYPE_CHAT,
            active: false
          }));
          leaves = this.app.workspace.getLeavesOfType(VIEW_TYPE_CHAT);
        }
        if (leaves.length != 0) {
          this.app.workspace.revealLeaf(leaves[0]);
        }
      }
    });
    this.addSettingTab(new ChatSettingTab(this.app, this));
  }
  onunload() {
  }
  async activateView() {
    const { workspace } = this.app;
    workspace.onLayoutReady(async () => {
      let leaf = null;
      const leaves = workspace.getLeavesOfType(VIEW_TYPE_CHAT);
      if (leaves.length == 0) {
        leaf = workspace.getRightLeaf(false);
        await (leaf == null ? void 0 : leaf.setViewState({
          type: VIEW_TYPE_CHAT,
          active: false
        }));
      }
    });
  }
  async loadSettings() {
    let saved = {};
    try {
      saved = await this.loadData();
    } catch (e) {
      console.log("Failed to load settings", e);
    }
    this.profiles = Object.assign({}, DEFAULT_SETTINGS, saved);
  }
  async saveSettings() {
    await this.saveData(this.profiles);
  }
};
// Annotate the CommonJS export names for ESM import in node:
0 && (module.exports = {});
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsic3JjL21haW4udHMiLCAic3JjL3ZpZXcudHMiLCAic3JjL2NvbW1vbi50cyIsICJub2RlX21vZHVsZXMvZXZlbnRzb3VyY2UtcGFyc2VyL3NyYy9wYXJzZS50cyIsICJzcmMvYXBpLnRzIiwgInNyYy9zZXR0aW5ncy50cyJdLAogICJzb3VyY2VzQ29udGVudCI6IFsiaW1wb3J0IHsgUGx1Z2luLCBXb3Jrc3BhY2VMZWFmIH0gZnJvbSBcIm9ic2lkaWFuXCI7XG5pbXBvcnQgeyBDaGF0VmlldywgVklFV19UWVBFX0NIQVQgfSBmcm9tIFwiLi92aWV3XCI7XG5pbXBvcnQgeyBDaGF0U2V0dGluZ1Byb2ZpbGVzIH0gZnJvbSBcIi4vY29tbW9uXCI7XG5pbXBvcnQgeyBDaGF0U2V0dGluZ1RhYiwgREVGQVVMVF9TRVRUSU5HUyB9IGZyb20gXCIuL3NldHRpbmdzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENoYXRQbHVnaW4gZXh0ZW5kcyBQbHVnaW4ge1xuXHRwcm9maWxlczogQ2hhdFNldHRpbmdQcm9maWxlcztcblxuXHRhc3luYyBvbmxvYWQoKSB7XG5cdFx0YXdhaXQgdGhpcy5sb2FkU2V0dGluZ3MoKTtcblx0XHR0aGlzLnJlZ2lzdGVyVmlldyhcblx0XHRcdFZJRVdfVFlQRV9DSEFULFxuXHRcdFx0KGxlYWYpID0+IG5ldyBDaGF0VmlldyhsZWFmLCB0aGlzLnByb2ZpbGVzKVxuXHRcdCk7XG5cdFx0YXdhaXQgdGhpcy5hY3RpdmF0ZVZpZXcoKTtcblxuXHRcdHRoaXMuYWRkQ29tbWFuZCh7XG5cdFx0XHRpZDogXCJhaS1jaGF0LXNob3ctY2hhdFwiLFxuXHRcdFx0bmFtZTogXCJTaG93IGNoYXRcIixcblx0XHRcdGNhbGxiYWNrOiBhc3luYyAoKSA9PiB7XG5cdFx0XHRcdGNvbnN0IHsgd29ya3NwYWNlIH0gPSB0aGlzLmFwcDtcblx0XHRcdFx0bGV0IGxlYXZlcyA9IHdvcmtzcGFjZS5nZXRMZWF2ZXNPZlR5cGUoVklFV19UWVBFX0NIQVQpO1xuXHRcdFx0XHRpZiAobGVhdmVzLmxlbmd0aCA9PSAwKSB7XG5cdFx0XHRcdFx0Y29uc3QgbGVhZiA9IHRoaXMuYXBwLndvcmtzcGFjZS5nZXRSaWdodExlYWYoZmFsc2UpO1xuXHRcdFx0XHRcdGF3YWl0IGxlYWY/LnNldFZpZXdTdGF0ZSh7XG5cdFx0XHRcdFx0XHR0eXBlOiBWSUVXX1RZUEVfQ0hBVCxcblx0XHRcdFx0XHRcdGFjdGl2ZTogZmFsc2UsXG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0bGVhdmVzID0gdGhpcy5hcHAud29ya3NwYWNlLmdldExlYXZlc09mVHlwZShWSUVXX1RZUEVfQ0hBVCk7XG5cdFx0XHRcdH1cblx0XHRcdFx0aWYgKGxlYXZlcy5sZW5ndGggIT0gMCkge1xuXHRcdFx0XHRcdHRoaXMuYXBwLndvcmtzcGFjZS5yZXZlYWxMZWFmKGxlYXZlc1swXSk7XG5cdFx0XHRcdH1cblx0XHRcdH0sXG5cdFx0fSk7XG5cblx0XHR0aGlzLmFkZFNldHRpbmdUYWIobmV3IENoYXRTZXR0aW5nVGFiKHRoaXMuYXBwLCB0aGlzKSk7XG5cdH1cblxuXHRvbnVubG9hZCgpIHt9XG5cblx0YXN5bmMgYWN0aXZhdGVWaWV3KCkge1xuXHRcdGNvbnN0IHsgd29ya3NwYWNlIH0gPSB0aGlzLmFwcDtcblxuXHRcdHdvcmtzcGFjZS5vbkxheW91dFJlYWR5KGFzeW5jICgpID0+IHtcblx0XHRcdGxldCBsZWFmOiBXb3Jrc3BhY2VMZWFmIHwgbnVsbCA9IG51bGw7XG5cdFx0XHRjb25zdCBsZWF2ZXMgPSB3b3Jrc3BhY2UuZ2V0TGVhdmVzT2ZUeXBlKFZJRVdfVFlQRV9DSEFUKTtcblx0XHRcdGlmIChsZWF2ZXMubGVuZ3RoID09IDApIHtcblx0XHRcdFx0bGVhZiA9IHdvcmtzcGFjZS5nZXRSaWdodExlYWYoZmFsc2UpO1xuXHRcdFx0XHRhd2FpdCBsZWFmPy5zZXRWaWV3U3RhdGUoe1xuXHRcdFx0XHRcdHR5cGU6IFZJRVdfVFlQRV9DSEFULFxuXHRcdFx0XHRcdGFjdGl2ZTogZmFsc2UsXG5cdFx0XHRcdH0pO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHR9XG5cblx0YXN5bmMgbG9hZFNldHRpbmdzKCkge1xuXHRcdGxldCBzYXZlZCA9IHt9O1xuXHRcdHRyeSB7XG5cdFx0XHRzYXZlZCA9IGF3YWl0IHRoaXMubG9hZERhdGEoKTtcblx0XHR9IGNhdGNoIChlKSB7XG5cdFx0XHRjb25zb2xlLmxvZyhcIkZhaWxlZCB0byBsb2FkIHNldHRpbmdzXCIsIGUpO1xuXHRcdH1cblx0XHR0aGlzLnByb2ZpbGVzID0gT2JqZWN0LmFzc2lnbih7fSwgREVGQVVMVF9TRVRUSU5HUywgc2F2ZWQpO1xuXHR9XG5cblx0YXN5bmMgc2F2ZVNldHRpbmdzKCkge1xuXHRcdGF3YWl0IHRoaXMuc2F2ZURhdGEodGhpcy5wcm9maWxlcyk7XG5cdH1cbn1cbiIsICJpbXBvcnQge1xuXHRJdGVtVmlldyxcblx0V29ya3NwYWNlTGVhZixcblx0TWFya2Rvd25SZW5kZXJlcixcblx0TWVudSxcblx0VEZpbGUsXG5cdGdldEljb24sXG59IGZyb20gXCJvYnNpZGlhblwiO1xuaW1wb3J0IHtcblx0Q2hhdEVudHJ5LFxuXHRDaGF0RG9jdW1lbnQsXG5cdENoYXRIaXN0b3J5LFxuXHRQTFVHSU5fSUQsXG5cdENoYXRTZXR0aW5nUHJvZmlsZXMsXG59IGZyb20gXCIuL2NvbW1vblwiO1xuaW1wb3J0IHsgQVBJLCBnZXRBUEksIGdldEFwcHJveFRva2VucyB9IGZyb20gXCIuL2FwaVwiO1xuXG5leHBvcnQgY29uc3QgVklFV19UWVBFX0NIQVQgPSBcImFyZW5hc3lzLWFpLWNoYXQtdmlld1wiO1xuXG5mdW5jdGlvbiBzZXRJY29uKGVsOiBFbGVtZW50LCBuYW1lOiBzdHJpbmcpIHtcblx0ZWwuZW1wdHkoKTtcblx0ZWwuYXBwZW5kQ2hpbGQoZ2V0SWNvbihuYW1lKSA/PyBnZXRJY29uKFwiYnVnXCIpISk7XG59XG5cbmV4cG9ydCBjbGFzcyBDaGF0VmlldyBleHRlbmRzIEl0ZW1WaWV3IHtcblx0cHJvZmlsZXM6IENoYXRTZXR0aW5nUHJvZmlsZXM7XG5cdGVudHJ5Q29udGFpbmVyOiBFbGVtZW50O1xuXHRkb2N1bWVudENvbnRhaW5lcjogRWxlbWVudDtcblx0aW5wdXRDb250YWluZXI6IEVsZW1lbnQ7XG5cdHRva2VuQ29udGFpbmVyOiBFbGVtZW50O1xuXHRwb3B1cENvbnRhaW5lcjogRWxlbWVudDtcblx0aGlzdG9yeTogQ2hhdEhpc3Rvcnk7XG5cdHdvcmtpbmc6IGJvb2xlYW47XG5cblx0YXBpOiBBUEk7XG5cblx0ZWRpdE9yaWdpbmFsOiBzdHJpbmc7XG5cdGVkaXRSZXZlcnQ6IGJvb2xlYW47XG5cdGVkaXRTa2lwOiBib29sZWFuO1xuXG5cdG1lbnVTa2lwOiBib29sZWFuO1xuXHRtZW51T3BlbjogYm9vbGVhbjtcblxuXHRlbnRyeU1lbnU6IE1lbnU7XG5cdGVudHJ5TWVudUluZGV4OiBudW1iZXI7XG5cblx0Y29uc3RydWN0b3IobGVhZjogV29ya3NwYWNlTGVhZiwgcHJvZmlsZXM6IENoYXRTZXR0aW5nUHJvZmlsZXMpIHtcblx0XHRzdXBlcihsZWFmKTtcblx0XHR0aGlzLnByb2ZpbGVzID0gcHJvZmlsZXM7XG5cdH1cblxuXHRnZXRTZXR0aW5ncygpIHtcblx0XHRyZXR1cm4gdGhpcy5wcm9maWxlcy5zZXR0aW5nc1t0aGlzLnByb2ZpbGVzLmN1cnJlbnRdO1xuXHR9XG5cblx0Z2V0Vmlld1R5cGUoKSB7XG5cdFx0cmV0dXJuIFZJRVdfVFlQRV9DSEFUO1xuXHR9XG5cblx0Z2V0RGlzcGxheVRleHQoKSB7XG5cdFx0cmV0dXJuIFwiQ2hhdFwiO1xuXHR9XG5cblx0Z2V0SWNvbigpIHtcblx0XHRyZXR1cm4gXCJtZXNzYWdlLXNxdWFyZVwiO1xuXHR9XG5cblx0c2V0V29ya2luZyh3b3JraW5nOiBib29sZWFuKSB7XG5cdFx0dGhpcy53b3JraW5nID0gd29ya2luZztcblx0XHR0aGlzLnN5bmNHZW5lcmF0ZUJ1dHRvblRvRG9tKCk7XG5cdH1cblxuXHRhc3luYyBzZXRUZXh0KGVsOiBFbGVtZW50LCB0ZXh0OiBzdHJpbmcpIHtcblx0XHRlbC5lbXB0eSgpO1xuXHRcdGNvbnN0IGxpbmVzID0gdGV4dC5zcGxpdChcIlxcblwiKTtcblx0XHRmb3IgKGNvbnN0IFtpbmRleCwgbGluZV0gb2YgbGluZXMuZW50cmllcygpKSB7XG5cdFx0XHRlbC5hcHBlbmRUZXh0KGxpbmUpO1xuXHRcdFx0aWYgKGluZGV4ICE9IGxpbmVzLmxlbmd0aCAtIDEpIHtcblx0XHRcdFx0ZWwuY3JlYXRlRWwoXCJiclwiKTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHRhc3luYyBzZXRNYXJrZG93bihlbDogSFRNTEVsZW1lbnQsIHRleHQ6IHN0cmluZykge1xuXHRcdGNvbnN0IHRtcCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG5cdFx0Ly8gcHJldHRpZXItaWdub3JlXG5cdFx0YXdhaXQgTWFya2Rvd25SZW5kZXJlci5yZW5kZXIodGhpcy5hcHAsIHRleHQsIHRtcCwgXCJcIiwgdGhpcyk7XG5cblx0XHQvLyBpbnNlcnQgPGJyPiBiZXR3ZWVuIDxwPidzXG5cdFx0ZWwuZW1wdHkoKTtcblx0XHRjb25zdCBsZW5ndGggPSB0bXAuY2hpbGRyZW4ubGVuZ3RoO1xuXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcblx0XHRcdGNvbnN0IHRoaXNOb2RlID0gdG1wLmNoaWxkcmVuWzBdIGFzIEhUTUxFbGVtZW50O1xuXHRcdFx0Y29uc3QgbmV4dE5vZGUgPSB0bXAuY2hpbGRyZW5bMV0gYXMgSFRNTEVsZW1lbnQ7XG5cdFx0XHRlbC5hcHBlbmRDaGlsZCh0aGlzTm9kZSk7XG5cdFx0XHRpZiAodGhpc05vZGU/LnRhZ05hbWUgPT0gXCJQXCIgJiYgbmV4dE5vZGU/LnRhZ05hbWUgPT0gXCJQXCIpIHtcblx0XHRcdFx0ZWwuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJyXCIpKTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHRhZGRQbGFpblBhc3RlKGVsZW1lbnQ6IEhUTUxFbGVtZW50KSB7XG5cdFx0ZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwicGFzdGVcIiwgKGV2ZW50OiBDbGlwYm9hcmRFdmVudCkgPT4ge1xuXHRcdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcblx0XHRcdGNvbnN0IHRleHQgPSBldmVudC5jbGlwYm9hcmREYXRhPy5nZXREYXRhKFwidGV4dC9wbGFpblwiKTtcblx0XHRcdGlmICh0ZXh0KSB7XG5cdFx0XHRcdGRvY3VtZW50LmV4ZWNDb21tYW5kKFwiaW5zZXJ0VGV4dFwiLCBmYWxzZSwgdGV4dCk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdH1cblxuXHRhZGRFbnRyeShlbnRyeTogQ2hhdEVudHJ5KSB7XG5cdFx0Y29uc3QgY29udGFpbmVyID0gdGhpcy5lbnRyeUNvbnRhaW5lcjtcblxuXHRcdGVudHJ5LmVsZW1lbnQgPSBjb250YWluZXIuY3JlYXRlRWwoXCJkaXZcIiwgeyBjbHM6IFwiYXN5c19fZW50cnlcIiB9KTtcblx0XHRlbnRyeS5lbGVtZW50LmFkZENsYXNzKGVudHJ5LnVzZXIgPyBcImFzeXNfX3JpZ2h0XCIgOiBcImFzeXNfX2xlZnRcIik7XG5cblx0XHRjb25zdCBjb250cm9scyA9IGVudHJ5LmVsZW1lbnQuY3JlYXRlRWwoXCJkaXZcIiwge1xuXHRcdFx0Y2xzOiBcImFzeXNfX2NvbnRyb2xzXCIsXG5cdFx0fSk7XG5cdFx0Y29uc3QgY29udGVudCA9IGVudHJ5LmVsZW1lbnQuY3JlYXRlRWwoXCJkaXZcIiwge1xuXHRcdFx0Y2xzOiBcImFzeXNfX2NvbnRlbnRcIixcblx0XHR9KTtcblxuXHRcdGNvbnRlbnQuYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsIChldmVudCkgPT4ge1xuXHRcdFx0dGhpcy5zeW5jRW50cnlGcm9tRG9tKGVudHJ5KTtcblx0XHR9KTtcblxuXHRcdGNvbnN0IGVkaXRCdXR0b24gPSBjb250cm9scy5jcmVhdGVFbChcImJ1dHRvblwiLCB7XG5cdFx0XHRjbHM6IFwiYXN5c19faWNvbiBjbGlja2FibGUtaWNvblwiLFxuXHRcdH0pO1xuXHRcdHNldEljb24oZWRpdEJ1dHRvbiwgXCJtb3JlLWhvcml6b250YWxcIik7XG5cdFx0ZWRpdEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGV2ZW50KSA9PiB7XG5cdFx0XHRpZiAodGhpcy5lZGl0U2tpcCkge1xuXHRcdFx0XHR0aGlzLmVkaXRTa2lwID0gZmFsc2U7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblxuXHRcdFx0ZW50cnkuZWRpdCA9IHRydWU7XG5cdFx0XHR0aGlzLmVkaXRPcmlnaW5hbCA9IGVudHJ5LmNvbnRlbnRbZW50cnkuaW5kZXhdO1xuXHRcdFx0dGhpcy5lZGl0UmV2ZXJ0ID0gZmFsc2U7XG5cdFx0XHR0aGlzLnN5bmNFbnRyeVRvRG9tKGVudHJ5KTtcblx0XHRcdGNvbnRlbnQuZm9jdXMoKTtcblx0XHR9KTtcblxuXHRcdGlmICghZW50cnkudXNlcikge1xuXHRcdFx0Y29uc3QgbGFiZWwgPSBjb250cm9scy5jcmVhdGVFbChcInNwYW5cIiwgeyBjbHM6IFwiYXN5c19fbGFiZWxcIiB9KTtcblx0XHRcdGNvbnN0IGxlZnRCdXR0b24gPSBjb250cm9scy5jcmVhdGVFbChcImJ1dHRvblwiLCB7XG5cdFx0XHRcdGNsczogXCJhc3lzX19pY29uIGNsaWNrYWJsZS1pY29uXCIsXG5cdFx0XHR9KTtcblx0XHRcdHNldEljb24obGVmdEJ1dHRvbiwgXCJjaGV2cm9uLWxlZnRcIik7XG5cdFx0XHRsZWZ0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZXZlbnQpID0+IHtcblx0XHRcdFx0aWYgKGVudHJ5LmluZGV4IC0gMSA+PSAwKSB7XG5cdFx0XHRcdFx0ZW50cnkuaW5kZXggLT0gMTtcblx0XHRcdFx0XHR0aGlzLnN5bmNFbnRyeVRvRG9tKGVudHJ5KTtcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cblx0XHRcdGNvbnN0IHJpZ2h0QnV0dG9uID0gY29udHJvbHMuY3JlYXRlRWwoXCJidXR0b25cIiwge1xuXHRcdFx0XHRjbHM6IFwiYXN5c19faWNvbiBjbGlja2FibGUtaWNvblwiLFxuXHRcdFx0fSk7XG5cdFx0XHRzZXRJY29uKHJpZ2h0QnV0dG9uLCBcImNoZXZyb24tcmlnaHRcIik7XG5cdFx0XHRyaWdodEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGV2ZW50KSA9PiB7XG5cdFx0XHRcdGlmIChlbnRyeS5pbmRleCArIDEgPCBlbnRyeS5jb250ZW50Lmxlbmd0aCkge1xuXHRcdFx0XHRcdGVudHJ5LmluZGV4ICs9IDE7XG5cdFx0XHRcdFx0dGhpcy5zeW5jRW50cnlUb0RvbShlbnRyeSk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0dGhpcy5yZWRvUmVzcG9uc2UoZW50cnkpO1xuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0XHR9XG5cblx0XHRjb25zdCB0cmFzaEJ1dHRvbiA9IGNvbnRyb2xzLmNyZWF0ZUVsKFwiYnV0dG9uXCIsIHtcblx0XHRcdGNsczogXCJhc3lzX19pY29uIGNsaWNrYWJsZS1pY29uIGFzeXNfX3JlZFwiLFxuXHRcdH0pO1xuXG5cdFx0bGV0IGNsaWNrZWQgPSBmYWxzZTtcblx0XHRzZXRJY29uKHRyYXNoQnV0dG9uLCBcInhcIik7XG5cdFx0dHJhc2hCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChldmVudCkgPT4ge1xuXHRcdFx0aWYgKGNsaWNrZWQpIHtcblx0XHRcdFx0dGhpcy5yZW1vdmVFbnRyeShlbnRyeSk7XG5cdFx0XHR9IGVsc2UgaWYgKCF0aGlzLmVkaXRSZXZlcnQpIHtcblx0XHRcdFx0Y2xpY2tlZCA9IHRydWU7XG5cdFx0XHRcdHNldEljb24odHJhc2hCdXR0b24sIFwiY2hlY2tcIik7XG5cdFx0XHRcdHNldFRpbWVvdXQoKCkgPT4ge1xuXHRcdFx0XHRcdGNsaWNrZWQgPSBmYWxzZTtcblx0XHRcdFx0XHRzZXRJY29uKHRyYXNoQnV0dG9uLCBcInhcIik7XG5cdFx0XHRcdH0sIDUwMCk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHR0aGlzLmVkaXRSZXZlcnQgPSBmYWxzZTtcblx0XHRcdH1cblx0XHR9KTtcblx0XHR0cmFzaEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY29udGV4dG1lbnVcIiwgKGV2ZW50KSA9PiB7XG5cdFx0XHRpZiAodHJhc2hCdXR0b24uYXJpYURpc2FibGVkID09PSBcInRydWVcIikge1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cdFx0XHR0aGlzLmVudHJ5TWVudUluZGV4ID0gdGhpcy5oaXN0b3J5LmVudHJpZXMuaW5kZXhPZihlbnRyeSk7XG5cdFx0XHRjb25zdCByZWN0ID0gdHJhc2hCdXR0b24uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG5cdFx0XHR0aGlzLmVudHJ5TWVudS5zaG93QXRQb3NpdGlvbih7IHg6IHJlY3QucmlnaHQsIHk6IHJlY3QuYm90dG9tIH0pO1xuXHRcdH0pO1xuXG5cdFx0Y29udGVudC5hZGRFdmVudExpc3RlbmVyKFwiZm9jdXNvdXRcIiwgKGV2ZW50KSA9PiB7XG5cdFx0XHR0aGlzLmVkaXRTa2lwID0gZXZlbnQucmVsYXRlZFRhcmdldCA9PSBlZGl0QnV0dG9uO1xuXHRcdFx0dGhpcy5lZGl0UmV2ZXJ0ID0gZXZlbnQucmVsYXRlZFRhcmdldCA9PSB0cmFzaEJ1dHRvbjtcblx0XHRcdGVudHJ5LmVkaXQgPSBmYWxzZTtcblx0XHRcdHRoaXMuc3luY0VudHJ5VG9Eb20oZW50cnkpO1xuXHRcdH0pO1xuXHRcdHRoaXMuYWRkUGxhaW5QYXN0ZShjb250ZW50KTtcblxuXHRcdGVudHJ5LmVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlb3ZlclwiLCAoZXZlbnQpID0+IHtcblx0XHRcdGlmIChcblx0XHRcdFx0ZW50cnkgPT0gdGhpcy5oaXN0b3J5LmVudHJpZXNbdGhpcy5oaXN0b3J5LmVudHJpZXMubGVuZ3RoIC0gMV1cblx0XHRcdCkge1xuXHRcdFx0XHR0aGlzLnRva2VuQ29udGFpbmVyLnJlbW92ZUNsYXNzKFwiYXN5c19faGlkZGVuXCIpO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHRcdGVudHJ5LmVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlb3V0XCIsIChldmVudCkgPT4ge1xuXHRcdFx0aWYgKFxuXHRcdFx0XHRlbnRyeSA9PSB0aGlzLmhpc3RvcnkuZW50cmllc1t0aGlzLmhpc3RvcnkuZW50cmllcy5sZW5ndGggLSAxXVxuXHRcdFx0KSB7XG5cdFx0XHRcdHRoaXMudG9rZW5Db250YWluZXIuYWRkQ2xhc3MoXCJhc3lzX19oaWRkZW5cIik7XG5cdFx0XHR9XG5cdFx0fSk7XG5cblx0XHR0aGlzLnN5bmNFbnRyeVRvRG9tKGVudHJ5KTtcblx0XHR0aGlzLmhpc3RvcnkuZW50cmllcy5wdXNoKGVudHJ5KTtcblx0XHRyZXR1cm4gZW50cnk7XG5cdH1cblxuXHRyZW1vdmVFbnRyeShlbnRyeTogQ2hhdEVudHJ5KSB7XG5cdFx0dHJ5IHtcblx0XHRcdGlmIChcblx0XHRcdFx0ZW50cnkgPT0gdGhpcy5oaXN0b3J5LmVudHJpZXNbdGhpcy5oaXN0b3J5LmVudHJpZXMubGVuZ3RoIC0gMV1cblx0XHRcdCkge1xuXHRcdFx0XHR0aGlzLnRva2VuQ29udGFpbmVyLmFkZENsYXNzKFwiYXN5c19faGlkZGVuXCIpO1xuXHRcdFx0fVxuXG5cdFx0XHR0aGlzLmVudHJ5Q29udGFpbmVyLnJlbW92ZUNoaWxkKGVudHJ5LmVsZW1lbnQhKTtcblx0XHRcdHRoaXMuaGlzdG9yeS5lbnRyaWVzLnJlbW92ZShlbnRyeSk7XG5cdFx0fSBjYXRjaCB7fVxuXHR9XG5cblx0Y2xlYW5FbnRyeShlbnRyeTogQ2hhdEVudHJ5KSB7XG5cdFx0ZW50cnkubmV3ID0gbnVsbDtcblx0XHRpZiAoZW50cnkuY29udGVudC5sZW5ndGggPT0gMCkge1xuXHRcdFx0dGhpcy5yZW1vdmVFbnRyeShlbnRyeSk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGVudHJ5LmluZGV4ID0gZW50cnkuY29udGVudC5sZW5ndGggLSAxO1xuXHRcdFx0dGhpcy5zeW5jRW50cnlUb0RvbShlbnRyeSk7XG5cdFx0fVxuXHR9XG5cblx0ZmluaXNoRW50cnkoZW50cnk6IENoYXRFbnRyeSkge1xuXHRcdGlmIChlbnRyeS5uZXcgIT0gbnVsbCkge1xuXHRcdFx0ZW50cnkuY29udGVudC5wdXNoKGVudHJ5Lm5ldyk7XG5cdFx0XHRlbnRyeS5pbmRleCA9IGVudHJ5LmNvbnRlbnQubGVuZ3RoIC0gMTtcblx0XHRcdGVudHJ5Lm5ldyA9IG51bGw7XG5cdFx0XHR0aGlzLnN5bmNFbnRyeVRvRG9tKGVudHJ5KTtcblx0XHR9XG5cdH1cblxuXHRhc3luYyBzeW5jRW50cnlUb0RvbShlbnRyeTogQ2hhdEVudHJ5KSB7XG5cdFx0Y29uc3QgY29udHJvbHMgPSBlbnRyeS5lbGVtZW50IS5jaGlsZHJlblswXSBhcyBIVE1MRWxlbWVudDtcblx0XHRjb25zdCBlZGl0QnV0dG9uID0gY29udHJvbHMuY2hpbGRyZW5bMF07XG5cdFx0Y29uc3QgdHJhc2hCdXR0b24gPSBjb250cm9scy5sYXN0RWxlbWVudENoaWxkITtcblxuXHRcdGNvbnN0IGNvbnRlbnQgPSBlbnRyeS5lbGVtZW50IS5jaGlsZHJlblsxXSBhcyBIVE1MRWxlbWVudDtcblxuXHRcdGNvbnN0IGVkaXRpbmcgPSBjb250ZW50LmdldEF0dHJpYnV0ZShcImNvbnRlbnRlZGl0YWJsZVwiKSA9PSBcInRydWVcIjtcblx0XHRpZiAoZWRpdGluZyAmJiAhZW50cnkuZWRpdCkge1xuXHRcdFx0aWYgKHRoaXMuZWRpdFJldmVydCkge1xuXHRcdFx0XHRlbnRyeS5jb250ZW50W2VudHJ5LmluZGV4XSA9IHRoaXMuZWRpdE9yaWdpbmFsO1xuXHRcdFx0fVxuXHRcdFx0ZW50cnkuZWxlbWVudD8ucmVtb3ZlQ2xhc3MoXCJhc3lzX19lZGl0XCIpO1xuXHRcdFx0c2V0SWNvbihlZGl0QnV0dG9uLCBcIm1vcmUtaG9yaXpvbnRhbFwiKTtcblx0XHRcdGVkaXRCdXR0b24ucmVtb3ZlQ2xhc3MoXCJhc3lzX19ncmVlblwiKTtcblx0XHRcdGVkaXRCdXR0b24uYXJpYUxhYmVsID0gXCJFZGl0XCI7XG5cdFx0XHR0cmFzaEJ1dHRvbi5hcmlhTGFiZWwgPSBcIkRlbGV0ZVwiO1xuXHRcdH1cblx0XHRpZiAoIWVkaXRpbmcgJiYgZW50cnkuZWRpdCkge1xuXHRcdFx0ZW50cnkuZWxlbWVudD8uYWRkQ2xhc3MoXCJhc3lzX19lZGl0XCIpO1xuXHRcdFx0c2V0SWNvbihlZGl0QnV0dG9uLCBcImNoZWNrXCIpO1xuXHRcdFx0ZWRpdEJ1dHRvbi5hZGRDbGFzcyhcImFzeXNfX2dyZWVuXCIpO1xuXHRcdH1cblx0XHRjb250ZW50LnNldEF0dHJpYnV0ZShcImNvbnRlbnRlZGl0YWJsZVwiLCBlbnRyeS5lZGl0ID8gXCJ0cnVlXCIgOiBcImZhbHNlXCIpO1xuXG5cdFx0Y29uc3QgaW52YWxpZCA9XG5cdFx0XHRlbnRyeS5jb250ZW50Lmxlbmd0aCA9PSAwIHx8IGVudHJ5LmluZGV4ID49IGVudHJ5LmNvbnRlbnQubGVuZ3RoO1xuXHRcdGNvbnN0IHdvcmtpbmcgPSBlbnRyeS5uZXcgIT0gbnVsbDtcblx0XHRjb25zdCB3YWl0aW5nID0gZW50cnkubmV3ICE9IG51bGwgJiYgZW50cnkubmV3Lmxlbmd0aCAhPSAwO1xuXG5cdFx0aWYgKGludmFsaWQgJiYgIXdhaXRpbmcpIHtcblx0XHRcdGNvbnRlbnQuc2V0VGV4dChcIi4uLlwiKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0Y29uc3QgdGV4dCA9IHdhaXRpbmcgPyBlbnRyeS5uZXchIDogZW50cnkuY29udGVudFtlbnRyeS5pbmRleF07XG5cdFx0XHRpZiAoZW50cnkuZWRpdCkge1xuXHRcdFx0XHRhd2FpdCB0aGlzLnNldFRleHQoY29udGVudCwgdGV4dCk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRhd2FpdCB0aGlzLnNldE1hcmtkb3duKGNvbnRlbnQsIHRleHQpO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGVkaXRCdXR0b24uYXJpYUxhYmVsID0gZW50cnkuZWRpdCA/IFwiQWNjZXB0XCIgOiBcIkVkaXRcIjtcblx0XHRlZGl0QnV0dG9uLmFyaWFEaXNhYmxlZCA9IGludmFsaWQgfHwgd29ya2luZyA/IFwidHJ1ZVwiIDogXCJmYWxzZVwiO1xuXG5cdFx0dHJhc2hCdXR0b24uYXJpYUxhYmVsID0gZW50cnkuZWRpdCA/IFwiUmV2ZXJ0XCIgOiBcIkRlbGV0ZVwiO1xuXHRcdHRyYXNoQnV0dG9uLmFyaWFEaXNhYmxlZCA9IGludmFsaWQgfHwgd29ya2luZyA/IFwidHJ1ZVwiIDogXCJmYWxzZVwiO1xuXG5cdFx0aWYgKCFlbnRyeS51c2VyKSB7XG5cdFx0XHRjb25zdCBsYWJlbCA9IGNvbnRyb2xzLmNoaWxkcmVuWzFdO1xuXHRcdFx0bGFiZWwuc2V0VGV4dChcblx0XHRcdFx0ZW50cnkuY29udGVudC5sZW5ndGggPT0gMFxuXHRcdFx0XHRcdD8gXCJcIlxuXHRcdFx0XHRcdDogYCR7ZW50cnkuaW5kZXggKyAxfSBvZiAke2VudHJ5LmNvbnRlbnQubGVuZ3RofWBcblx0XHRcdCk7XG5cblx0XHRcdGNvbnN0IGxlZnRCdXR0b24gPSBjb250cm9scy5jaGlsZHJlblsyXTtcblx0XHRcdGxlZnRCdXR0b24uYXJpYURpc2FibGVkID1cblx0XHRcdFx0ZW50cnkuaW5kZXggPT0gMCB8fCBpbnZhbGlkIHx8IGVudHJ5LmVkaXQgPyBcInRydWVcIiA6IFwiZmFsc2VcIjtcblx0XHRcdGxlZnRCdXR0b24uYXJpYUxhYmVsID0gXCJQcmV2aW91c1wiO1xuXG5cdFx0XHRjb25zdCByaWdodEJ1dHRvbiA9IGNvbnRyb2xzLmNoaWxkcmVuWzNdO1xuXHRcdFx0cmlnaHRCdXR0b24uYXJpYURpc2FibGVkID0gaW52YWxpZCB8fCBlbnRyeS5lZGl0ID8gXCJ0cnVlXCIgOiBcImZhbHNlXCI7XG5cdFx0XHRyaWdodEJ1dHRvbi5hcmlhTGFiZWwgPSBcIk5leHRcIjtcblx0XHR9XG5cdH1cblxuXHRzeW5jRW50cnlGcm9tRG9tKGVudHJ5OiBDaGF0RW50cnkpIHtcblx0XHRjb25zdCBjb250ZW50ID0gZW50cnkuZWxlbWVudCEuY2hpbGRyZW5bMV0gYXMgSFRNTERpdkVsZW1lbnQ7XG5cdFx0ZW50cnkuY29udGVudFtlbnRyeS5pbmRleF0gPSBjb250ZW50LmlubmVyVGV4dDtcblx0fVxuXG5cdGFkZERvY3VtZW50KGZpbGU6IFRGaWxlLCBhcHBlbmQ6IGJvb2xlYW4gPSB0cnVlKSB7XG5cdFx0Y29uc3Qgcm93ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcblx0XHRyb3cuYWRkQ2xhc3MoXCJhc3lzX19kb2N1bWVudC1yb3dcIik7XG5cdFx0Y29uc3QgZWxlbWVudCA9IHJvdy5jcmVhdGVEaXYoeyBjbHM6IFwiYXN5c19fZG9jdW1lbnRcIiB9KTtcblxuXHRcdGNvbnN0IGRvYzogQ2hhdERvY3VtZW50ID0ge1xuXHRcdFx0ZmlsZTogZmlsZSxcblx0XHRcdGVsZW1lbnQ6IHJvdyxcblx0XHRcdHBpbjogZmFsc2UsXG5cdFx0XHRtdXRlOiBmYWxzZSxcblx0XHR9O1xuXG5cdFx0aWYgKGFwcGVuZCB8fCB0aGlzLmRvY3VtZW50Q29udGFpbmVyLmNoaWxkcmVuLmxlbmd0aCA9PSAwKSB7XG5cdFx0XHR0aGlzLmRvY3VtZW50Q29udGFpbmVyLmFwcGVuZENoaWxkKHJvdyk7XG5cdFx0XHR0aGlzLmhpc3RvcnkuZG9jdW1lbnRzLnB1c2goZG9jKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0dGhpcy5kb2N1bWVudENvbnRhaW5lci5pbnNlcnRCZWZvcmUoXG5cdFx0XHRcdHJvdyxcblx0XHRcdFx0dGhpcy5kb2N1bWVudENvbnRhaW5lci5maXJzdENoaWxkXG5cdFx0XHQpO1xuXHRcdFx0dGhpcy5oaXN0b3J5LmRvY3VtZW50cy51bnNoaWZ0KGRvYyk7XG5cdFx0fVxuXG5cdFx0Y29uc3QgbXV0ZSA9IGVsZW1lbnQuY3JlYXRlRWwoXCJidXR0b25cIiwge1xuXHRcdFx0Y2xzOiBcImFzeXNfX211dGUgYXN5c19fdG9nZ2xlIGFzeXNfX2ljb24gY2xpY2thYmxlLWljb25cIixcblx0XHR9KTtcblx0XHRtdXRlLmFyaWFMYWJlbCA9IFwiSGlkZS9VbmhpZGUgZG9jdW1lbnRcIjtcblxuXHRcdHNldEljb24obXV0ZSwgXCJleWVcIik7XG5cdFx0bXV0ZS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGV2ZW50KSA9PiB7XG5cdFx0XHRpZiAoZG9jLm11dGUpIHtcblx0XHRcdFx0bXV0ZS5yZW1vdmVDbGFzcyhcImFzeXNfX3RvZ2dsZWRcIik7XG5cdFx0XHRcdHNldEljb24obXV0ZSwgXCJleWVcIik7XG5cdFx0XHRcdGRvYy5tdXRlID0gZmFsc2U7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRtdXRlLmFkZENsYXNzKFwiYXN5c19fdG9nZ2xlZFwiKTtcblx0XHRcdFx0c2V0SWNvbihtdXRlLCBcImV5ZS1vZmZcIik7XG5cdFx0XHRcdGRvYy5tdXRlID0gdHJ1ZTtcblx0XHRcdH1cblx0XHR9KTtcblxuXHRcdGNvbnN0IHBpbiA9IGVsZW1lbnQuY3JlYXRlRWwoXCJidXR0b25cIiwge1xuXHRcdFx0Y2xzOiBcImFzeXNfX3BpbiBhc3lzX190b2dnbGUgYXN5c19faWNvbiBjbGlja2FibGUtaWNvblwiLFxuXHRcdH0pO1xuXHRcdHBpbi5hcmlhTGFiZWwgPSBcIlBpbi9VbnBpbiBkb2N1bWVudFwiO1xuXG5cdFx0c2V0SWNvbihwaW4sIFwicGluLW9mZlwiKTtcblx0XHRwaW4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChldmVudCkgPT4ge1xuXHRcdFx0aWYgKGRvYy5waW4pIHtcblx0XHRcdFx0cGluLnJlbW92ZUNsYXNzKFwiYXN5c19fdG9nZ2xlZFwiKTtcblx0XHRcdFx0ZG9jLnBpbiA9IGZhbHNlO1xuXHRcdFx0XHRzZXRJY29uKHBpbiwgXCJwaW4tb2ZmXCIpO1xuXHRcdFx0XHRjb25zdCBpc0ZpcnN0ID0gZG9jID09IHRoaXMuaGlzdG9yeS5kb2N1bWVudHNbMF07XG5cdFx0XHRcdGlmICghaXNGaXJzdCkge1xuXHRcdFx0XHRcdHRoaXMucmVtb3ZlRG9jdW1lbnQoZG9jKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRjb25zdCBjdXJyZW50ID0gdGhpcy5hcHAud29ya3NwYWNlLmdldEFjdGl2ZUZpbGUoKTtcblx0XHRcdFx0aWYgKGN1cnJlbnQpIHtcblx0XHRcdFx0XHR0aGlzLnNldEN1cnJlbnREb2N1bWVudChjdXJyZW50KTtcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0cGluLmFkZENsYXNzKFwiYXN5c19fdG9nZ2xlZFwiKTtcblx0XHRcdFx0c2V0SWNvbihwaW4sIFwicGluXCIpO1xuXHRcdFx0XHRkb2MucGluID0gdHJ1ZTtcblx0XHRcdH1cblx0XHR9KTtcblx0XHRjb25zdCBjb250ZW50ID0gZWxlbWVudC5jcmVhdGVEaXYoKTtcblx0XHR0aGlzLnN5bmNEb2N1bWVudFRvRG9tKGRvYyk7XG5cdH1cblxuXHRyZW1vdmVEb2N1bWVudChkb2M6IENoYXREb2N1bWVudCkge1xuXHRcdHRoaXMuaGlzdG9yeS5kb2N1bWVudHMucmVtb3ZlKGRvYyk7XG5cdFx0dGhpcy5kb2N1bWVudENvbnRhaW5lci5yZW1vdmVDaGlsZChkb2MuZWxlbWVudCEpO1xuXHR9XG5cblx0c2V0Q3VycmVudERvY3VtZW50KGZpbGU6IFRGaWxlKSB7XG5cdFx0aWYgKHRoaXMuaGlzdG9yeS5kb2N1bWVudHMubGVuZ3RoID09IDApIHtcblx0XHRcdHRoaXMuYWRkRG9jdW1lbnQoZmlsZSk7XG5cdFx0fVxuXG5cdFx0Y29uc3QgZXhpc3RzID0gdGhpcy5oaXN0b3J5LmRvY3VtZW50cy5zb21lKChkb2N1bWVudCwgaW5kZXgpID0+IHtcblx0XHRcdHJldHVybiBkb2N1bWVudC5maWxlID09IGZpbGUgJiYgZG9jdW1lbnQucGluO1xuXHRcdH0pO1xuXG5cdFx0aWYgKCFleGlzdHMpIHtcblx0XHRcdGlmICghdGhpcy5oaXN0b3J5LmRvY3VtZW50c1swXS5waW4pIHtcblx0XHRcdFx0dGhpcy5oaXN0b3J5LmRvY3VtZW50c1swXS5maWxlID0gZmlsZTtcblx0XHRcdFx0dGhpcy5zeW5jRG9jdW1lbnRUb0RvbSh0aGlzLmhpc3RvcnkuZG9jdW1lbnRzWzBdKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHRoaXMuYWRkRG9jdW1lbnQoZmlsZSwgZmFsc2UpO1xuXHRcdFx0fVxuXHRcdH0gZWxzZSBpZiAoIXRoaXMuaGlzdG9yeS5kb2N1bWVudHNbMF0ucGluKSB7XG5cdFx0XHRjb25zdCBkb2MgPSB0aGlzLmhpc3RvcnkuZG9jdW1lbnRzWzBdO1xuXHRcdFx0dGhpcy5oaXN0b3J5LmRvY3VtZW50cy5yZW1vdmUoZG9jKTtcblx0XHRcdHRoaXMuZG9jdW1lbnRDb250YWluZXIucmVtb3ZlQ2hpbGQoZG9jLmVsZW1lbnQhKTtcblx0XHR9XG5cdH1cblxuXHRzeW5jRG9jdW1lbnRUb0RvbShkb2N1bWVudDogQ2hhdERvY3VtZW50KSB7XG5cdFx0Y29uc3Qgcm93ID0gZG9jdW1lbnQuZWxlbWVudCEgYXMgSFRNTERpdkVsZW1lbnQ7XG5cdFx0Y29uc3QgZWxlbWVudCA9IHJvdy5jaGlsZHJlblswXSBhcyBIVE1MRGl2RWxlbWVudDtcblx0XHRjb25zdCBwaW4gPSBlbGVtZW50LmNoaWxkcmVuWzBdO1xuXHRcdGNvbnN0IG11dGUgPSBlbGVtZW50LmNoaWxkcmVuWzFdO1xuXHRcdGNvbnN0IGNvbnRlbnQgPSBlbGVtZW50LmNoaWxkcmVuWzJdIGFzIEhUTUxEaXZFbGVtZW50O1xuXG5cdFx0Y29udGVudC5zZXRUZXh0KGRvY3VtZW50LmZpbGUucGF0aCk7XG5cdH1cblxuXHRjaGVja0N1cnJlbnREb2N1bWVudCgpIHtcblx0XHRpZiAodGhpcy5oaXN0b3J5LmRvY3VtZW50cy5sZW5ndGggPiAwKSB7XG5cdFx0XHRjb25zdCBkb2N1bWVudCA9IHRoaXMuaGlzdG9yeS5kb2N1bWVudHNbMF07XG5cdFx0XHRjb25zdCBlbGVtZW50ID0gZG9jdW1lbnQuZWxlbWVudCEgYXMgSFRNTERpdkVsZW1lbnQ7XG5cdFx0XHRjb25zdCBjdXJyZW50ID0gZWxlbWVudC5pbm5lclRleHQ7XG5cdFx0XHRjb25zdCB0YXJnZXQgPSBkb2N1bWVudC5maWxlLnBhdGg7XG5cdFx0XHRpZiAoY3VycmVudCAhPSB0YXJnZXQpIHtcblx0XHRcdFx0dGhpcy5zeW5jRG9jdW1lbnRUb0RvbShkb2N1bWVudCk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0YXN5bmMgY2hlY2tDdXJyZW50VG9rZW5zKCkge1xuXHRcdGNvbnN0IHRva2VucyA9IGF3YWl0IGdldEFwcHJveFRva2Vucyh0aGlzLmhpc3RvcnksIHRoaXMuZ2V0U2V0dGluZ3MoKSk7XG5cdFx0dGhpcy50b2tlbkNvbnRhaW5lci5zZXRUZXh0KGAke3Rva2Vuc30gVG9rZW5zYCk7XG5cdH1cblxuXHRzeW5jR2VuZXJhdGVCdXR0b25Ub0RvbSgpIHtcblx0XHRjb25zdCBidXR0b24gPSB0aGlzLmlucHV0Q29udGFpbmVyLmNoaWxkcmVuWzBdO1xuXHRcdGlmICh0aGlzLndvcmtpbmcpIHtcblx0XHRcdGJ1dHRvbi5hZGRDbGFzcyhcImFzeXNfX3dvcmtpbmdcIik7XG5cdFx0XHRzZXRJY29uKGJ1dHRvbiwgXCJzcXVhcmVcIik7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGJ1dHRvbi5yZW1vdmVDbGFzcyhcImFzeXNfX3dvcmtpbmdcIik7XG5cdFx0XHRzZXRJY29uKGJ1dHRvbiwgXCJwbGF5XCIpO1xuXHRcdH1cblx0fVxuXG5cdHNuYXBUb0JvdHRvbSgpIHtcblx0XHRjb25zdCBiYWNrZ3JvdW5kID0gdGhpcy5jb250YWluZXJFbC5jaGlsZHJlblsxXTtcblx0XHRiYWNrZ3JvdW5kLnNjcm9sbFRvcCA9IGJhY2tncm91bmQuc2Nyb2xsSGVpZ2h0O1xuXHR9XG5cblx0YXN5bmMgaGlkZVBvcHVwKCkge1xuXHRcdHRoaXMucG9wdXBDb250YWluZXIucmVtb3ZlQ2xhc3MoXCJhc3lzX19mYWRlSW5cIik7XG5cdFx0dGhpcy5wb3B1cENvbnRhaW5lci5hZGRDbGFzcyhcImFzeXNfX2ZhZGVPdXRcIik7XG5cdH1cblxuXHRhc3luYyBzaG93UG9wdXAobWVzc2FnZTogc3RyaW5nKSB7XG5cdFx0YXdhaXQgdGhpcy5zZXRUZXh0KHRoaXMucG9wdXBDb250YWluZXIsIG1lc3NhZ2UpO1xuXG5cdFx0dGhpcy5wb3B1cENvbnRhaW5lci5yZW1vdmVDbGFzcyhcImFzeXNfX2ZhZGVPdXRcIik7XG5cdFx0dGhpcy5wb3B1cENvbnRhaW5lci5hZGRDbGFzcyhcImFzeXNfX2ZhZGVJblwiKTtcblxuXHRcdHRoaXMucG9wdXBDb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChldmVudCkgPT4ge1xuXHRcdFx0dGhpcy5oaWRlUG9wdXAoKTtcblx0XHR9KTtcblx0fVxuXG5cdGFzeW5jIHJlZG9SZXNwb25zZShlbnRyeTogQ2hhdEVudHJ5KSB7XG5cdFx0ZW50cnkuaW5kZXggPSBlbnRyeS5jb250ZW50Lmxlbmd0aDtcblx0XHR0aGlzLnN5bmNFbnRyeVRvRG9tKGVudHJ5KTtcblx0XHR0aGlzLm1ha2VSZXF1ZXN0KGVudHJ5KTtcblx0fVxuXG5cdGFzeW5jIGdldFJlc3BvbnNlKCkge1xuXHRcdGNvbnN0IHJlc3BvbnNlID0gdGhpcy5hZGRFbnRyeSh7XG5cdFx0XHR1c2VyOiBmYWxzZSxcblx0XHRcdGVkaXQ6IGZhbHNlLFxuXHRcdFx0bmV3OiBudWxsLFxuXHRcdFx0aW5kZXg6IDAsXG5cdFx0XHRjb250ZW50OiBbXSxcblx0XHR9KTtcblx0XHR0aGlzLm1ha2VSZXF1ZXN0KHJlc3BvbnNlKTtcblx0fVxuXG5cdGFzeW5jIGhhbmRsZUlucHV0KGlucHV0OiBzdHJpbmcpIHtcblx0XHRjb25zdCBpc0VtcHR5ID0gaW5wdXQudHJpbSgpLmxlbmd0aCA9PSAwO1xuXHRcdGNvbnN0IGxhc3RFbnRyeSA9IHRoaXMuaGlzdG9yeS5lbnRyaWVzW3RoaXMuaGlzdG9yeS5lbnRyaWVzLmxlbmd0aCAtIDFdO1xuXG5cdFx0aWYgKGxhc3RFbnRyeSAmJiBsYXN0RW50cnkudXNlcikge1xuXHRcdFx0aWYgKCFpc0VtcHR5KSB7XG5cdFx0XHRcdGxhc3RFbnRyeS5jb250ZW50W2xhc3RFbnRyeS5pbmRleF0gKz0gYFxcbiR7aW5wdXR9YDtcblx0XHRcdFx0dGhpcy5zeW5jRW50cnlUb0RvbShsYXN0RW50cnkpO1xuXHRcdFx0fVxuXHRcdFx0dGhpcy5nZXRSZXNwb25zZSgpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRpZiAoIWlzRW1wdHkpIHtcblx0XHRcdFx0dGhpcy5hZGRFbnRyeSh7XG5cdFx0XHRcdFx0dXNlcjogdHJ1ZSxcblx0XHRcdFx0XHRlZGl0OiBmYWxzZSxcblx0XHRcdFx0XHRuZXc6IG51bGwsXG5cdFx0XHRcdFx0aW5kZXg6IDAsXG5cdFx0XHRcdFx0Y29udGVudDogW2lucHV0XSxcblx0XHRcdFx0fSk7XG5cdFx0XHRcdHRoaXMuZ2V0UmVzcG9uc2UoKTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHRhc3luYyBtYWtlUmVxdWVzdChlbnRyeTogQ2hhdEVudHJ5KSB7XG5cdFx0dGhpcy5zZXRXb3JraW5nKHRydWUpO1xuXG5cdFx0Y29uc3Qgc2V0dGluZ3MgPSB0aGlzLmdldFNldHRpbmdzKCk7XG5cblx0XHRjb25zdCBpc0xhc3QgPVxuXHRcdFx0ZW50cnkgPT0gdGhpcy5oaXN0b3J5LmVudHJpZXNbdGhpcy5oaXN0b3J5LmVudHJpZXMubGVuZ3RoIC0gMV07XG5cdFx0dGhpcy5hcGkgPSBnZXRBUEkoc2V0dGluZ3MpITtcblxuXHRcdHRoaXMuYXBpLmV2ZW50cy5vbihcInRleHRcIiwgKHRleHQ6IHN0cmluZykgPT4ge1xuXHRcdFx0aWYgKHRleHQubGVuZ3RoID09IDApIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXHRcdFx0aWYgKGVudHJ5Lm5ldyA9PSBudWxsKSB7XG5cdFx0XHRcdGVudHJ5Lm5ldyA9IFwiXCI7XG5cdFx0XHR9XG5cdFx0XHRlbnRyeS5uZXcgKz0gdGV4dDtcblx0XHRcdHRoaXMuc3luY0VudHJ5VG9Eb20oZW50cnkpO1xuXHRcdFx0aWYgKGlzTGFzdCkge1xuXHRcdFx0XHR0aGlzLnNuYXBUb0JvdHRvbSgpO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHRcdHRoaXMuYXBpLmV2ZW50cy5vbihcInN0YXR1c1wiLCAoc3RhdHVzOiBudW1iZXIpID0+IHtcblx0XHRcdGlmIChzdGF0dXMgIT0gMjAwKSB7XG5cdFx0XHRcdGlmIChpc0xhc3QpIHtcblx0XHRcdFx0XHR0aGlzLnNuYXBUb0JvdHRvbSgpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSk7XG5cdFx0dGhpcy5hcGkuZXZlbnRzLm9uKFwiZG9uZVwiLCAoKSA9PiB7XG5cdFx0XHR0aGlzLmZpbmlzaEVudHJ5KGVudHJ5KTtcblx0XHR9KTtcblx0XHR0aGlzLmFwaS5ldmVudHMub24oXCJlcnJvclwiLCAoZXJyb3I6IHN0cmluZykgPT4ge1xuXHRcdFx0ZW50cnkubmV3ID0gbnVsbDtcblx0XHRcdHRoaXMuY2xlYW5FbnRyeShlbnRyeSk7XG5cdFx0XHR0aGlzLnN5bmNFbnRyeVRvRG9tKGVudHJ5KTtcblx0XHRcdHRoaXMuc2hvd1BvcHVwKGVycm9yKTtcblx0XHR9KTtcblx0XHR0aGlzLmFwaS5ldmVudHMub24oXCJhYm9ydFwiLCAoKSA9PiB7XG5cdFx0XHR0aGlzLmZpbmlzaEVudHJ5KGVudHJ5KTtcblx0XHR9KTtcblx0XHR0aGlzLmFwaS5ldmVudHMub24oXCJjbG9zZVwiLCAoKSA9PiB7XG5cdFx0XHR0aGlzLmNsZWFuRW50cnkoZW50cnkpO1xuXHRcdFx0dGhpcy5zZXRXb3JraW5nKGZhbHNlKTtcblx0XHR9KTtcblxuXHRcdGF3YWl0IHRoaXMuYXBpLnNlbmQodGhpcy5oaXN0b3J5LCBlbnRyeSwgc2V0dGluZ3MpO1xuXG5cdFx0cmV0dXJuO1xuXHR9XG5cblx0YXN5bmMgYWJvcnRSZXF1ZXN0KCkge1xuXHRcdGlmICh0aGlzLndvcmtpbmcgJiYgdGhpcy5hcGkpIHtcblx0XHRcdGF3YWl0IHRoaXMuYXBpLmFib3J0KCk7XG5cdFx0fVxuXHR9XG5cblx0YXN5bmMgYWRkQ2hhdCgpIHtcblx0XHR0aGlzLmhpc3RvcnkgPSB7XG5cdFx0XHRlbnRyaWVzOiBbXSxcblx0XHRcdGRvY3VtZW50czogW10sXG5cdFx0XHRhcHA6IHRoaXMuYXBwLFxuXHRcdH07XG5cblx0XHRjb25zdCBiYWNrZ3JvdW5kID0gdGhpcy5jb250YWluZXJFbC5jaGlsZHJlblsxXTtcblx0XHRiYWNrZ3JvdW5kLmFkZENsYXNzKFwiYXN5c19fYmFja2dyb3VuZFwiKTtcblx0XHRiYWNrZ3JvdW5kLmVtcHR5KCk7XG5cblx0XHR0aGlzLmVudHJ5Q29udGFpbmVyID0gYmFja2dyb3VuZC5jcmVhdGVFbChcImRpdlwiLCB7XG5cdFx0XHRjbHM6IFwiYXN5c19fZW50cmllc1wiLFxuXHRcdH0pO1xuXG5cdFx0Y29uc3QgdG1wID0gdGhpcy5lbnRyeUNvbnRhaW5lci5jcmVhdGVFbChcImRpdlwiKTtcblx0XHRjb25zdCBzZXR0aW5ncyA9IHRtcC5jcmVhdGVFbChcImJ1dHRvblwiLCB7XG5cdFx0XHRjbHM6IFwiYXN5c19fc2V0dGluZ3MgY2xpY2thYmxlLWljb24gdmlldy1hY3Rpb25cIixcblx0XHR9KTtcblx0XHRzZXR0aW5ncy5hcmlhTGFiZWwgPSBcIk1vcmUgb3B0aW9uc1wiO1xuXHRcdHRoaXMuZG9jdW1lbnRDb250YWluZXIgPSB0bXAuY3JlYXRlRWwoXCJkaXZcIik7XG5cblx0XHRzZXRJY29uKHNldHRpbmdzLCBcIm1vcmUtdmVydGljYWxcIik7XG5cdFx0Y29uc3Qgc2V0dGluZ3NNZW51ID0gbmV3IE1lbnUoKTtcblx0XHRzZXR0aW5nc01lbnUuYWRkSXRlbSgoaXRlbSkgPT4ge1xuXHRcdFx0aXRlbS5zZXRJY29uKFwic2V0dGluZ3NcIik7XG5cdFx0XHRpdGVtLnNldFRpdGxlKFwiT3BlbiBzZXR0aW5nc1wiKTtcblx0XHRcdGl0ZW0ub25DbGljaygoZSkgPT4ge1xuXHRcdFx0XHR0aGlzLmFwcC5zZXR0aW5nLm9wZW4oKTtcblx0XHRcdFx0aWYgKHRoaXMuYXBwLnNldHRpbmcubGFzdFRhYklkICE9PSBQTFVHSU5fSUQpXG5cdFx0XHRcdFx0dGhpcy5hcHAuc2V0dGluZy5vcGVuVGFiQnlJZChQTFVHSU5fSUQpO1xuXHRcdFx0fSk7XG5cdFx0fSk7XG5cdFx0c2V0dGluZ3NNZW51LmFkZFNlcGFyYXRvcigpO1xuXHRcdHNldHRpbmdzTWVudS5hZGRJdGVtKChpdGVtKSA9PiB7XG5cdFx0XHRpdGVtLnNldEljb24oXCJ0cmFzaFwiKTtcblx0XHRcdGl0ZW0uc2V0VGl0bGUoXCJDbGVhciBjaGF0XCIpO1xuXHRcdFx0aXRlbS5zZXRXYXJuaW5nKHRydWUpO1xuXHRcdFx0aXRlbS5vbkNsaWNrKChlKSA9PiB7XG5cdFx0XHRcdHRoaXMuYWRkQ2hhdCgpO1xuXHRcdFx0fSk7XG5cdFx0fSk7XG5cdFx0c2V0dGluZ3MuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLCAoZXZlbnQ6IE1vdXNlRXZlbnQpID0+IHtcblx0XHRcdGlmICh0aGlzLm1lbnVPcGVuKSB7XG5cdFx0XHRcdHRoaXMubWVudVNraXAgPSB0cnVlO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHRcdHNldHRpbmdzLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZXZlbnQ6IE1vdXNlRXZlbnQpID0+IHtcblx0XHRcdGlmICh0aGlzLm1lbnVTa2lwKSB7XG5cdFx0XHRcdHRoaXMubWVudVNraXAgPSBmYWxzZTtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXHRcdFx0Y29uc3QgcmVjdCA9IHNldHRpbmdzLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXHRcdFx0c2V0dGluZ3NNZW51LnNob3dBdFBvc2l0aW9uKHsgeDogcmVjdC5yaWdodCwgeTogcmVjdC5ib3R0b20gfSk7XG5cdFx0XHR0aGlzLm1lbnVPcGVuID0gdHJ1ZTtcblx0XHR9KTtcblx0XHRzZXR0aW5nc01lbnUub25IaWRlKCgpID0+IHtcblx0XHRcdHRoaXMubWVudU9wZW4gPSBmYWxzZTtcblx0XHR9KTtcblxuXHRcdHRoaXMuZW50cnlNZW51ID0gbmV3IE1lbnUoKTtcblx0XHR0aGlzLmVudHJ5TWVudS5hZGRJdGVtKChpdGVtKSA9PiB7XG5cdFx0XHRpdGVtLnNldEljb24oXCJ0cmFzaFwiKTtcblx0XHRcdGl0ZW0uc2V0VGl0bGUoXCJEZWxldGUgYmVsb3dcIik7XG5cdFx0XHRpdGVtLnNldFdhcm5pbmcodHJ1ZSk7XG5cdFx0XHRpdGVtLm9uQ2xpY2soKGUpID0+IHtcblx0XHRcdFx0bGV0IGlkeCA9IHRoaXMuZW50cnlNZW51SW5kZXggKyAxO1xuXHRcdFx0XHR3aGlsZSAoaWR4IDwgdGhpcy5oaXN0b3J5LmVudHJpZXMubGVuZ3RoKSB7XG5cdFx0XHRcdFx0Y29uc3QgYmVmb3JlID0gdGhpcy5oaXN0b3J5LmVudHJpZXMubGVuZ3RoO1xuXHRcdFx0XHRcdHRoaXMucmVtb3ZlRW50cnkodGhpcy5oaXN0b3J5LmVudHJpZXNbaWR4XSk7XG5cdFx0XHRcdFx0aWYgKGJlZm9yZSA9PSB0aGlzLmhpc3RvcnkuZW50cmllcy5sZW5ndGgpIHtcblx0XHRcdFx0XHRcdC8vIGZhaWxlZCB0byByZW1vdmVcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cdFx0fSk7XG5cblx0XHRjb25zdCBjdXJyZW50ID0gdGhpcy5hcHAud29ya3NwYWNlLmdldEFjdGl2ZUZpbGUoKTtcblx0XHRpZiAoY3VycmVudCkge1xuXHRcdFx0dGhpcy5zZXRDdXJyZW50RG9jdW1lbnQoY3VycmVudCk7XG5cdFx0fVxuXG5cdFx0dGhpcy50b2tlbkNvbnRhaW5lciA9IGJhY2tncm91bmQuY3JlYXRlRGl2KHtcblx0XHRcdGNsczogXCJhc3lzX190b2tlbnMgYXN5c19faGlkZGVuXCIsXG5cdFx0fSk7XG5cblx0XHR0aGlzLmlucHV0Q29udGFpbmVyID0gYmFja2dyb3VuZC5jcmVhdGVEaXYoe1xuXHRcdFx0Y2xzOiBcImFzeXNfX2lucHV0LWNvbnRhaW5lclwiLFxuXHRcdH0pO1xuXG5cdFx0Y29uc3QgaW5wdXRCdXR0b24gPSB0aGlzLmlucHV0Q29udGFpbmVyLmNyZWF0ZUVsKFwiYnV0dG9uXCIsIHtcblx0XHRcdGNsczogXCJhc3lzX19pY29uIGFzeXNfX2lucHV0LWJ1dHRvbiBjbGlja2FibGUtaWNvblwiLFxuXHRcdH0pO1xuXHRcdGlucHV0QnV0dG9uLmFyaWFMYWJlbCA9IFwiU3RvcFwiO1xuXHRcdHNldEljb24oaW5wdXRCdXR0b24sIFwicGxheVwiKTtcblx0XHRpbnB1dEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgYXN5bmMgKGV2ZW50KSA9PiB7XG5cdFx0XHRpZiAodGhpcy53b3JraW5nKSB7XG5cdFx0XHRcdHRoaXMuYWJvcnRSZXF1ZXN0KCk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cblx0XHRjb25zdCBpbnB1dCA9IHRoaXMuaW5wdXRDb250YWluZXIuY3JlYXRlRGl2KHsgY2xzOiBcImFzeXNfX2lucHV0XCIgfSk7XG5cdFx0aW5wdXQuc2V0QXR0cmlidXRlKFwiY29udGVudGVkaXRhYmxlXCIsIFwidHJ1ZVwiKTtcblx0XHRpbnB1dC5zZXRBdHRyaWJ1dGUoXCJwbGFjZWhvbGRlclwiLCBcIkFzayBzb21ldGhpbmcuLi5cIik7XG5cdFx0aW5wdXQuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgYXN5bmMgKGV2ZW50KSA9PiB7XG5cdFx0XHRpZiAoZXZlbnQua2V5ID09PSBcIkVudGVyXCIgJiYgIWV2ZW50LnNoaWZ0S2V5KSB7XG5cdFx0XHRcdGF3YWl0IHRoaXMuaGlkZVBvcHVwKCk7XG5cdFx0XHRcdGlmICghdGhpcy53b3JraW5nKSB7XG5cdFx0XHRcdFx0YXdhaXQgdGhpcy5oYW5kbGVJbnB1dChpbnB1dC5pbm5lclRleHQpO1xuXHRcdFx0XHRcdGlucHV0LmVtcHR5KCk7XG5cdFx0XHRcdH1cblx0XHRcdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcblx0XHRcdH1cblx0XHR9KTtcblx0XHRpbnB1dC5hZGRFdmVudExpc3RlbmVyKFwiaW5wdXRcIiwgKGV2ZW50KSA9PiB7XG5cdFx0XHR0aGlzLnNuYXBUb0JvdHRvbSgpO1xuXHRcdFx0aWYgKGlucHV0LmlubmVyVGV4dCA9PSBcIlxcblwiKSB7XG5cdFx0XHRcdGlucHV0LmVtcHR5KCk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdFx0dGhpcy5hZGRQbGFpblBhc3RlKGlucHV0KTtcblxuXHRcdHRoaXMucG9wdXBDb250YWluZXIgPSBiYWNrZ3JvdW5kLmNyZWF0ZUVsKFwiZGl2XCIsIHtcblx0XHRcdGNsczogXCJhc3lzX19wb3B1cCBhc3lzX19mYWRlT3V0XCIsXG5cdFx0fSk7XG5cdH1cblxuXHRhc3luYyBvbk9wZW4oKSB7XG5cdFx0YXdhaXQgdGhpcy5hZGRDaGF0KCk7XG5cdFx0dGhpcy5yZWdpc3RlckV2ZW50KFxuXHRcdFx0dGhpcy5hcHAud29ya3NwYWNlLm9uKFwiZmlsZS1vcGVuXCIsIChmaWxlKSA9PiB7XG5cdFx0XHRcdHRoaXMuc2V0Q3VycmVudERvY3VtZW50KGZpbGUhKTtcblx0XHRcdFx0dGhpcy5jaGVja0N1cnJlbnRUb2tlbnMoKTtcblx0XHRcdH0pXG5cdFx0KTtcblx0XHR0aGlzLnJlZ2lzdGVySW50ZXJ2YWwoXG5cdFx0XHR3aW5kb3cuc2V0SW50ZXJ2YWwoKCkgPT4gdGhpcy5jaGVja0N1cnJlbnREb2N1bWVudCgpLCAxMDAwKVxuXHRcdCk7XG5cdFx0dGhpcy5yZWdpc3RlckludGVydmFsKFxuXHRcdFx0d2luZG93LnNldEludGVydmFsKCgpID0+IHRoaXMuY2hlY2tDdXJyZW50VG9rZW5zKCksIDUwMDApXG5cdFx0KTtcblx0fVxuXG5cdGFzeW5jIG9uQ2xvc2UoKSB7fVxufVxuIiwgImltcG9ydCB7IEFwcCwgVEZpbGUgfSBmcm9tIFwib2JzaWRpYW5cIjtcblxuZXhwb3J0IGNvbnN0IFBMVUdJTl9JRDogc3RyaW5nID0gXCJhcmVuYXN5cy1haS1jaGF0XCI7XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ2hhdEVudHJ5IHtcblx0dXNlcjogYm9vbGVhbjtcblx0aW5kZXg6IG51bWJlcjtcblx0Y29udGVudDogc3RyaW5nW107XG5cdGVkaXQ6IGJvb2xlYW47XG5cdG5ldzogc3RyaW5nIHwgbnVsbDtcblxuXHRlbGVtZW50PzogRWxlbWVudDtcbn1cbmV4cG9ydCBpbnRlcmZhY2UgQ2hhdERvY3VtZW50IHtcblx0ZmlsZTogVEZpbGU7XG5cdGVsZW1lbnQ/OiBFbGVtZW50O1xuXHRwaW46IGJvb2xlYW47XG5cdG11dGU6IGJvb2xlYW47XG59XG5leHBvcnQgaW50ZXJmYWNlIENoYXRIaXN0b3J5IHtcblx0ZW50cmllczogQ2hhdEVudHJ5W107XG5cdGRvY3VtZW50czogQ2hhdERvY3VtZW50W107XG5cdGVsZW1lbnQ/OiBFbGVtZW50O1xuXHRhcHA/OiBBcHA7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ2hhdFNldHRpbmdQcm9maWxlcyB7XG5cdGN1cnJlbnQ6IG51bWJlcjtcblx0bmFtZXM6IHN0cmluZ1tdO1xuXHRzZXR0aW5nczogQ2hhdFNldHRpbmdzW107XG59XG5leHBvcnQgaW50ZXJmYWNlIENoYXRTZXR0aW5ncyB7XG5cdGFwaVByb3ZpZGVyOiBzdHJpbmc7XG5cdGFwaU1vZGVsOiBzdHJpbmc7XG5cdGFwaU1vZGVsQ3VzdG9tOiBzdHJpbmc7XG5cdGFwaUtleTogc3RyaW5nO1xuXHRhcGlFbmRwb2ludDogc3RyaW5nO1xuXG5cdHN5c3RlbVByb21wdDogc3RyaW5nO1xuXHRtYXhUb2tlbnM6IG51bWJlciB8IG51bGw7XG5cdHRlbXBlcmF0dXJlOiBudW1iZXIgfCBudWxsO1xuXHR0b3BLOiBudW1iZXIgfCBudWxsO1xuXHR0b3BQOiBudW1iZXIgfCBudWxsO1xuXHRmcmVxdWVuY3lQZW5hbHR5OiBudW1iZXIgfCBudWxsO1xuXG5cdFtpbmRleDogc3RyaW5nXTogbnVtYmVyIHwgc3RyaW5nIHwgbnVsbDtcbn1cblxuZXhwb3J0IGNvbnN0IEhUVFBTdGF0dXM6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gPSB7XG5cdFwiMFwiOiBcIlVua25vd25cIixcblx0XCIyMDBcIjogXCJPS1wiLFxuXHRcIjIwMVwiOiBcIkNyZWF0ZWRcIixcblx0XCIyMDJcIjogXCJBY2NlcHRlZFwiLFxuXHRcIjIwM1wiOiBcIk5vbi1BdXRob3JpdGF0aXZlIEluZm9ybWF0aW9uXCIsXG5cdFwiMjA0XCI6IFwiTm8gQ29udGVudFwiLFxuXHRcIjIwNVwiOiBcIlJlc2V0IENvbnRlbnRcIixcblx0XCIyMDZcIjogXCJQYXJ0aWFsIENvbnRlbnRcIixcblx0XCIzMDBcIjogXCJNdWx0aXBsZSBDaG9pY2VzXCIsXG5cdFwiMzAxXCI6IFwiTW92ZWQgUGVybWFuZW50bHlcIixcblx0XCIzMDJcIjogXCJGb3VuZFwiLFxuXHRcIjMwM1wiOiBcIlNlZSBPdGhlclwiLFxuXHRcIjMwNFwiOiBcIk5vdCBNb2RpZmllZFwiLFxuXHRcIjMwNVwiOiBcIlVzZSBQcm94eVwiLFxuXHRcIjMwNlwiOiBcIlVudXNlZFwiLFxuXHRcIjMwN1wiOiBcIlRlbXBvcmFyeSBSZWRpcmVjdFwiLFxuXHRcIjQwMFwiOiBcIkJhZCBSZXF1ZXN0XCIsXG5cdFwiNDAxXCI6IFwiVW5hdXRob3JpemVkXCIsXG5cdFwiNDAyXCI6IFwiUGF5bWVudCBSZXF1aXJlZFwiLFxuXHRcIjQwM1wiOiBcIkZvcmJpZGRlblwiLFxuXHRcIjQwNFwiOiBcIk5vdCBGb3VuZFwiLFxuXHRcIjQwNVwiOiBcIk1ldGhvZCBOb3QgQWxsb3dlZFwiLFxuXHRcIjQwNlwiOiBcIk5vdCBBY2NlcHRhYmxlXCIsXG5cdFwiNDA3XCI6IFwiUHJveHkgQXV0aGVudGljYXRpb24gUmVxdWlyZWRcIixcblx0XCI0MDhcIjogXCJSZXF1ZXN0IFRpbWVvdXRcIixcblx0XCI0MDlcIjogXCJDb25mbGljdFwiLFxuXHRcIjQxMFwiOiBcIkdvbmVcIixcblx0XCI0MTFcIjogXCJMZW5ndGggUmVxdWlyZWRcIixcblx0XCI0MTJcIjogXCJQcmVjb25kaXRpb24gUmVxdWlyZWRcIixcblx0XCI0MTNcIjogXCJSZXF1ZXN0IEVudHJ5IFRvbyBMYXJnZVwiLFxuXHRcIjQxNFwiOiBcIlJlcXVlc3QtVVJJIFRvbyBMb25nXCIsXG5cdFwiNDE1XCI6IFwiVW5zdXBwb3J0ZWQgTWVkaWEgVHlwZVwiLFxuXHRcIjQxNlwiOiBcIlJlcXVlc3RlZCBSYW5nZSBOb3QgU2F0aXNmaWFibGVcIixcblx0XCI0MTdcIjogXCJFeHBlY3RhdGlvbiBGYWlsZWRcIixcblx0XCI0MThcIjogXCJJJ20gYSB0ZWFwb3RcIixcblx0XCI0MjlcIjogXCJUb28gTWFueSBSZXF1ZXN0c1wiLFxuXHRcIjUwMFwiOiBcIkludGVybmFsIFNlcnZlciBFcnJvclwiLFxuXHRcIjUwMVwiOiBcIk5vdCBJbXBsZW1lbnRlZFwiLFxuXHRcIjUwMlwiOiBcIkJhZCBHYXRld2F5XCIsXG5cdFwiNTAzXCI6IFwiU2VydmljZSBVbmF2YWlsYWJsZVwiLFxuXHRcIjUwNFwiOiBcIkdhdGV3YXkgVGltZW91dFwiLFxuXHRcIjUwNVwiOiBcIkhUVFAgVmVyc2lvbiBOb3QgU3VwcG9ydGVkXCIsXG59O1xuIiwgIi8qKlxuICogRXZlbnRTb3VyY2UvU2VydmVyLVNlbnQgRXZlbnRzIHBhcnNlclxuICogQHNlZSBodHRwczovL2h0bWwuc3BlYy53aGF0d2cub3JnL211bHRpcGFnZS9zZXJ2ZXItc2VudC1ldmVudHMuaHRtbFxuICpcbiAqIEJhc2VkIG9uIGNvZGUgZnJvbSB0aGUge0BsaW5rIGh0dHBzOi8vZ2l0aHViLmNvbS9FdmVudFNvdXJjZS9ldmVudHNvdXJjZSB8IEV2ZW50U291cmNlIG1vZHVsZX0sXG4gKiB3aGljaCBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UuIEFuZCBjb3B5cmlnaHRlZCB0aGUgRXZlbnRTb3VyY2UgR2l0SHViIG9yZ2FuaXNhdGlvbi5cbiAqL1xuaW1wb3J0IHR5cGUge0V2ZW50U291cmNlUGFyc2VDYWxsYmFjaywgRXZlbnRTb3VyY2VQYXJzZXJ9IGZyb20gJy4vdHlwZXMuanMnXG5cbi8qKlxuICogQ3JlYXRlcyBhIG5ldyBFdmVudFNvdXJjZSBwYXJzZXIuXG4gKlxuICogQHBhcmFtIG9uUGFyc2UgLSBDYWxsYmFjayB0byBpbnZva2Ugd2hlbiBhIG5ldyBldmVudCBpcyBwYXJzZWQsIG9yIGEgbmV3IHJlY29ubmVjdGlvbiBpbnRlcnZhbFxuICogICAgICAgICAgICAgICAgICBoYXMgYmVlbiBzZW50IGZyb20gdGhlIHNlcnZlclxuICpcbiAqIEByZXR1cm5zIEEgbmV3IEV2ZW50U291cmNlIHBhcnNlciwgd2l0aCBgcGFyc2VgIGFuZCBgcmVzZXRgIG1ldGhvZHMuXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVQYXJzZXIob25QYXJzZTogRXZlbnRTb3VyY2VQYXJzZUNhbGxiYWNrKTogRXZlbnRTb3VyY2VQYXJzZXIge1xuICAvLyBQcm9jZXNzaW5nIHN0YXRlXG4gIGxldCBpc0ZpcnN0Q2h1bms6IGJvb2xlYW5cbiAgbGV0IGJ1ZmZlcjogc3RyaW5nXG4gIGxldCBzdGFydGluZ1Bvc2l0aW9uOiBudW1iZXJcbiAgbGV0IHN0YXJ0aW5nRmllbGRMZW5ndGg6IG51bWJlclxuXG4gIC8vIEV2ZW50IHN0YXRlXG4gIGxldCBldmVudElkOiBzdHJpbmcgfCB1bmRlZmluZWRcbiAgbGV0IGV2ZW50TmFtZTogc3RyaW5nIHwgdW5kZWZpbmVkXG4gIGxldCBkYXRhOiBzdHJpbmdcblxuICByZXNldCgpXG4gIHJldHVybiB7ZmVlZCwgcmVzZXR9XG5cbiAgZnVuY3Rpb24gcmVzZXQoKTogdm9pZCB7XG4gICAgaXNGaXJzdENodW5rID0gdHJ1ZVxuICAgIGJ1ZmZlciA9ICcnXG4gICAgc3RhcnRpbmdQb3NpdGlvbiA9IDBcbiAgICBzdGFydGluZ0ZpZWxkTGVuZ3RoID0gLTFcblxuICAgIGV2ZW50SWQgPSB1bmRlZmluZWRcbiAgICBldmVudE5hbWUgPSB1bmRlZmluZWRcbiAgICBkYXRhID0gJydcbiAgfVxuXG4gIGZ1bmN0aW9uIGZlZWQoY2h1bms6IHN0cmluZyk6IHZvaWQge1xuICAgIGJ1ZmZlciA9IGJ1ZmZlciA/IGJ1ZmZlciArIGNodW5rIDogY2h1bmtcblxuICAgIC8vIFN0cmlwIGFueSBVVEY4IGJ5dGUgb3JkZXIgbWFyayAoQk9NKSBhdCB0aGUgc3RhcnQgb2YgdGhlIHN0cmVhbS5cbiAgICAvLyBOb3RlIHRoYXQgd2UgZG8gbm90IHN0cmlwIGFueSBub24gLSBVVEY4IEJPTSwgYXMgZXZlbnRzb3VyY2Ugc3RyZWFtcyBhcmVcbiAgICAvLyBhbHdheXMgZGVjb2RlZCBhcyBVVEY4IGFzIHBlciB0aGUgc3BlY2lmaWNhdGlvbi5cbiAgICBpZiAoaXNGaXJzdENodW5rICYmIGhhc0JvbShidWZmZXIpKSB7XG4gICAgICBidWZmZXIgPSBidWZmZXIuc2xpY2UoQk9NLmxlbmd0aClcbiAgICB9XG5cbiAgICBpc0ZpcnN0Q2h1bmsgPSBmYWxzZVxuXG4gICAgLy8gU2V0IHVwIGNodW5rLXNwZWNpZmljIHByb2Nlc3Npbmcgc3RhdGVcbiAgICBjb25zdCBsZW5ndGggPSBidWZmZXIubGVuZ3RoXG4gICAgbGV0IHBvc2l0aW9uID0gMFxuICAgIGxldCBkaXNjYXJkVHJhaWxpbmdOZXdsaW5lID0gZmFsc2VcblxuICAgIC8vIFJlYWQgdGhlIGN1cnJlbnQgYnVmZmVyIGJ5dGUgYnkgYnl0ZVxuICAgIHdoaWxlIChwb3NpdGlvbiA8IGxlbmd0aCkge1xuICAgICAgLy8gRXZlbnRTb3VyY2UgYWxsb3dzIGZvciBjYXJyaWFnZSByZXR1cm4gKyBsaW5lIGZlZWQsIHdoaWNoIG1lYW5zIHdlXG4gICAgICAvLyBuZWVkIHRvIGlnbm9yZSBhIGxpbmVmZWVkIGNoYXJhY3RlciBpZiB0aGUgcHJldmlvdXMgY2hhcmFjdGVyIHdhcyBhXG4gICAgICAvLyBjYXJyaWFnZSByZXR1cm5cbiAgICAgIC8vIEB0b2RvIHJlZmFjdG9yIHRvIHJlZHVjZSBuZXN0aW5nLCBjb25zaWRlciBjaGVja2luZyBwcmV2aW91cyBieXRlP1xuICAgICAgLy8gQHRvZG8gYnV0IGNvbnNpZGVyIG11bHRpcGxlIGNodW5rcyBldGNcbiAgICAgIGlmIChkaXNjYXJkVHJhaWxpbmdOZXdsaW5lKSB7XG4gICAgICAgIGlmIChidWZmZXJbcG9zaXRpb25dID09PSAnXFxuJykge1xuICAgICAgICAgICsrcG9zaXRpb25cbiAgICAgICAgfVxuICAgICAgICBkaXNjYXJkVHJhaWxpbmdOZXdsaW5lID0gZmFsc2VcbiAgICAgIH1cblxuICAgICAgbGV0IGxpbmVMZW5ndGggPSAtMVxuICAgICAgbGV0IGZpZWxkTGVuZ3RoID0gc3RhcnRpbmdGaWVsZExlbmd0aFxuICAgICAgbGV0IGNoYXJhY3Rlcjogc3RyaW5nXG5cbiAgICAgIGZvciAobGV0IGluZGV4ID0gc3RhcnRpbmdQb3NpdGlvbjsgbGluZUxlbmd0aCA8IDAgJiYgaW5kZXggPCBsZW5ndGg7ICsraW5kZXgpIHtcbiAgICAgICAgY2hhcmFjdGVyID0gYnVmZmVyW2luZGV4XVxuICAgICAgICBpZiAoY2hhcmFjdGVyID09PSAnOicgJiYgZmllbGRMZW5ndGggPCAwKSB7XG4gICAgICAgICAgZmllbGRMZW5ndGggPSBpbmRleCAtIHBvc2l0aW9uXG4gICAgICAgIH0gZWxzZSBpZiAoY2hhcmFjdGVyID09PSAnXFxyJykge1xuICAgICAgICAgIGRpc2NhcmRUcmFpbGluZ05ld2xpbmUgPSB0cnVlXG4gICAgICAgICAgbGluZUxlbmd0aCA9IGluZGV4IC0gcG9zaXRpb25cbiAgICAgICAgfSBlbHNlIGlmIChjaGFyYWN0ZXIgPT09ICdcXG4nKSB7XG4gICAgICAgICAgbGluZUxlbmd0aCA9IGluZGV4IC0gcG9zaXRpb25cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAobGluZUxlbmd0aCA8IDApIHtcbiAgICAgICAgc3RhcnRpbmdQb3NpdGlvbiA9IGxlbmd0aCAtIHBvc2l0aW9uXG4gICAgICAgIHN0YXJ0aW5nRmllbGRMZW5ndGggPSBmaWVsZExlbmd0aFxuICAgICAgICBicmVha1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc3RhcnRpbmdQb3NpdGlvbiA9IDBcbiAgICAgICAgc3RhcnRpbmdGaWVsZExlbmd0aCA9IC0xXG4gICAgICB9XG5cbiAgICAgIHBhcnNlRXZlbnRTdHJlYW1MaW5lKGJ1ZmZlciwgcG9zaXRpb24sIGZpZWxkTGVuZ3RoLCBsaW5lTGVuZ3RoKVxuXG4gICAgICBwb3NpdGlvbiArPSBsaW5lTGVuZ3RoICsgMVxuICAgIH1cblxuICAgIGlmIChwb3NpdGlvbiA9PT0gbGVuZ3RoKSB7XG4gICAgICAvLyBJZiB3ZSBjb25zdW1lZCB0aGUgZW50aXJlIGJ1ZmZlciB0byByZWFkIHRoZSBldmVudCwgcmVzZXQgdGhlIGJ1ZmZlclxuICAgICAgYnVmZmVyID0gJydcbiAgICB9IGVsc2UgaWYgKHBvc2l0aW9uID4gMCkge1xuICAgICAgLy8gSWYgdGhlcmUgYXJlIGJ5dGVzIGxlZnQgdG8gcHJvY2Vzcywgc2V0IHRoZSBidWZmZXIgdG8gdGhlIHVucHJvY2Vzc2VkXG4gICAgICAvLyBwb3J0aW9uIG9mIHRoZSBidWZmZXIgb25seVxuICAgICAgYnVmZmVyID0gYnVmZmVyLnNsaWNlKHBvc2l0aW9uKVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHBhcnNlRXZlbnRTdHJlYW1MaW5lKFxuICAgIGxpbmVCdWZmZXI6IHN0cmluZyxcbiAgICBpbmRleDogbnVtYmVyLFxuICAgIGZpZWxkTGVuZ3RoOiBudW1iZXIsXG4gICAgbGluZUxlbmd0aDogbnVtYmVyLFxuICApIHtcbiAgICBpZiAobGluZUxlbmd0aCA9PT0gMCkge1xuICAgICAgLy8gV2UgcmVhY2hlZCB0aGUgbGFzdCBsaW5lIG9mIHRoaXMgZXZlbnRcbiAgICAgIGlmIChkYXRhLmxlbmd0aCA+IDApIHtcbiAgICAgICAgb25QYXJzZSh7XG4gICAgICAgICAgdHlwZTogJ2V2ZW50JyxcbiAgICAgICAgICBpZDogZXZlbnRJZCxcbiAgICAgICAgICBldmVudDogZXZlbnROYW1lIHx8IHVuZGVmaW5lZCxcbiAgICAgICAgICBkYXRhOiBkYXRhLnNsaWNlKDAsIC0xKSwgLy8gcmVtb3ZlIHRyYWlsaW5nIG5ld2xpbmVcbiAgICAgICAgfSlcblxuICAgICAgICBkYXRhID0gJydcbiAgICAgICAgZXZlbnRJZCA9IHVuZGVmaW5lZFxuICAgICAgfVxuICAgICAgZXZlbnROYW1lID0gdW5kZWZpbmVkXG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICBjb25zdCBub1ZhbHVlID0gZmllbGRMZW5ndGggPCAwXG4gICAgY29uc3QgZmllbGQgPSBsaW5lQnVmZmVyLnNsaWNlKGluZGV4LCBpbmRleCArIChub1ZhbHVlID8gbGluZUxlbmd0aCA6IGZpZWxkTGVuZ3RoKSlcbiAgICBsZXQgc3RlcCA9IDBcblxuICAgIGlmIChub1ZhbHVlKSB7XG4gICAgICBzdGVwID0gbGluZUxlbmd0aFxuICAgIH0gZWxzZSBpZiAobGluZUJ1ZmZlcltpbmRleCArIGZpZWxkTGVuZ3RoICsgMV0gPT09ICcgJykge1xuICAgICAgc3RlcCA9IGZpZWxkTGVuZ3RoICsgMlxuICAgIH0gZWxzZSB7XG4gICAgICBzdGVwID0gZmllbGRMZW5ndGggKyAxXG4gICAgfVxuXG4gICAgY29uc3QgcG9zaXRpb24gPSBpbmRleCArIHN0ZXBcbiAgICBjb25zdCB2YWx1ZUxlbmd0aCA9IGxpbmVMZW5ndGggLSBzdGVwXG4gICAgY29uc3QgdmFsdWUgPSBsaW5lQnVmZmVyLnNsaWNlKHBvc2l0aW9uLCBwb3NpdGlvbiArIHZhbHVlTGVuZ3RoKS50b1N0cmluZygpXG5cbiAgICBpZiAoZmllbGQgPT09ICdkYXRhJykge1xuICAgICAgZGF0YSArPSB2YWx1ZSA/IGAke3ZhbHVlfVxcbmAgOiAnXFxuJ1xuICAgIH0gZWxzZSBpZiAoZmllbGQgPT09ICdldmVudCcpIHtcbiAgICAgIGV2ZW50TmFtZSA9IHZhbHVlXG4gICAgfSBlbHNlIGlmIChmaWVsZCA9PT0gJ2lkJyAmJiAhdmFsdWUuaW5jbHVkZXMoJ1xcdTAwMDAnKSkge1xuICAgICAgZXZlbnRJZCA9IHZhbHVlXG4gICAgfSBlbHNlIGlmIChmaWVsZCA9PT0gJ3JldHJ5Jykge1xuICAgICAgY29uc3QgcmV0cnkgPSBwYXJzZUludCh2YWx1ZSwgMTApXG4gICAgICBpZiAoIU51bWJlci5pc05hTihyZXRyeSkpIHtcbiAgICAgICAgb25QYXJzZSh7dHlwZTogJ3JlY29ubmVjdC1pbnRlcnZhbCcsIHZhbHVlOiByZXRyeX0pXG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbmNvbnN0IEJPTSA9IFsyMzksIDE4NywgMTkxXVxuXG5mdW5jdGlvbiBoYXNCb20oYnVmZmVyOiBzdHJpbmcpIHtcbiAgcmV0dXJuIEJPTS5ldmVyeSgoY2hhckNvZGU6IG51bWJlciwgaW5kZXg6IG51bWJlcikgPT4gYnVmZmVyLmNoYXJDb2RlQXQoaW5kZXgpID09PSBjaGFyQ29kZSlcbn1cbiIsICJpbXBvcnQgeyBDaGF0RW50cnksIENoYXRIaXN0b3J5LCBDaGF0U2V0dGluZ3MsIEhUVFBTdGF0dXMgfSBmcm9tIFwiLi9jb21tb25cIjtcbmltcG9ydCB7IGNyZWF0ZVBhcnNlciwgRXZlbnRTb3VyY2VQYXJzZXIgfSBmcm9tIFwiZXZlbnRzb3VyY2UtcGFyc2VyXCI7XG5pbXBvcnQgeyBFdmVudEVtaXR0ZXIgfSBmcm9tIFwibm9kZTpldmVudHNcIjtcbmltcG9ydCB7IENsaWVudFJlcXVlc3QsIEluY29taW5nTWVzc2FnZSB9IGZyb20gXCJub2RlOmh0dHBcIjtcbmltcG9ydCB7IHJlcXVlc3QgfSBmcm9tIFwibm9kZTpodHRwc1wiO1xuXG5mdW5jdGlvbiBzYW5pdGl6ZSh0ZXh0OiBzdHJpbmcpIHtcblx0Ly8gZXNjYXBlIDIrIGJ5dGUgdW5pY29kZSBjaGFyYWN0ZXJzXG5cdC8vIHByZXR0aWVyLWlnbm9yZVxuXHRyZXR1cm4gWy4uLnRleHRdLm1hcCgoYykgPT5cdC9eW1xceDAwLVxceDdGXSQvLnRlc3QoYylcdD8gYyA6IGMuc3BsaXQoXCJcIilcblx0XHRcdFx0XHQubWFwKChhKSA9Plx0XCJcXFxcdVwiICtcdGEuY2hhckNvZGVBdCgwKS50b1N0cmluZygxNikucGFkU3RhcnQoNCwgXCIwXCIpKVxuXHRcdFx0XHRcdC5qb2luKFwiXCIpKS5qb2luKFwiXCIpO1xufVxuXG5jb25zdCBFUlJPUl9TVUZGSVggPSBcIlByZXNzIHRvIGRpc21pc3MuXCI7XG5jb25zdCBDSEFSU19QRVJfVE9LRU4gPSAzLjM1O1xuXG5jb25zdCBBTlRIUk9QSUNfRU5EUE9JTlQ6IHN0cmluZyA9IFwiaHR0cHM6Ly9hcGkuYW50aHJvcGljLmNvbVwiO1xuY29uc3QgQU5USFJPUElDX1BBVEg6IHN0cmluZyA9IFwiL3YxL21lc3NhZ2VzXCI7XG5cbmNvbnN0IE9QRU5BSV9FTkRQT0lOVDogc3RyaW5nID0gXCJodHRwczovL2FwaS5vcGVuYWkuY29tXCI7XG5jb25zdCBPUEVOQUlfUEFUSDogc3RyaW5nID0gXCIvdjEvY2hhdC9jb21wbGV0aW9uc1wiO1xuXG5jb25zdCBPUEVOUk9VVEVSX0VORFBPSU5UOiBzdHJpbmcgPSBcImh0dHBzOi8vb3BlbnJvdXRlci5haS9hcGlcIjtcbmNvbnN0IFRPR0VUSEVSX0VORFBPSU5UOiBzdHJpbmcgPSBcImh0dHBzOi8vYXBpLnRvZ2V0aGVyLnh5elwiO1xuXG5jb25zdCBDT0hFUkVfRU5EUE9JTlQ6IHN0cmluZyA9IFwiaHR0cHM6Ly9hcGkuY29oZXJlLmFpXCI7XG5jb25zdCBDT0hFUkVfUEFUSDogc3RyaW5nID0gXCIvdjEvY2hhdFwiO1xuXG5jb25zdCBBTlRIUk9QSUNfTU9ERUxTOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+ID0ge1xuXHRcImNsYXVkZS0zLW9wdXNcIjogXCJjbGF1ZGUtMy1vcHVzLTIwMjQwMjI5XCIsXG5cdFwiY2xhdWRlLTMtc29ubmV0XCI6IFwiY2xhdWRlLTMtc29ubmV0LTIwMjQwMjI5XCIsXG5cdFwiY2xhdWRlLTMtaGFpa3VcIjogXCJjbGF1ZGUtMy1oYWlrdS0yMDI0MDMwN1wiLFxufTtcblxuY29uc3QgQU5USFJPUElDX1NFVFRJTkdTOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+ID0ge1xuXHR0ZW1wZXJhdHVyZTogXCJ0ZW1wZXJhdHVyZVwiLFxuXHR0b3BLOiBcInRvcF9rXCIsXG5cdHRvcFA6IFwidG9wX3BcIixcbn07XG5cbmNvbnN0IE9QRU5BSV9NT0RFTFM6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gPSB7XG5cdFwiZ3B0LTRcIjogXCJncHQtNFwiLFxuXHRcImdwdC00LXR1cmJvXCI6IFwiZ3B0LTQtdHVyYm8tcHJldmlld1wiLFxuXHRcImdwdC00LTMya1wiOiBcImdwdC00LTMya1wiLFxuXHRcImdwdC0zLjUtdHVyYm9cIjogXCJncHQtMy41LXR1cmJvXCIsXG5cdFwiZ3B0LTMuNS10dXJiby0xNmtcIjogXCJncHQtMy41LXR1cmJvLTE2a1wiLFxufTtcblxuY29uc3QgT1BFTkFJX1NFVFRJTkdTOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+ID0ge1xuXHR0ZW1wZXJhdHVyZTogXCJ0ZW1wZXJhdHVyZVwiLFxuXHR0b3BLOiBcInRvcF9rXCIsXG5cdHRvcFA6IFwidG9wX3BcIixcblx0bWF4VG9rZW5zOiBcIm1heF90b2tlbnNcIixcblx0ZnJlcXVlbmN5UGVuYWx0eTogXCJmcmVxdWVuY3lfcGVuYWx0eVwiLFxufTtcblxuY29uc3QgQ09IRVJFX01PREVMUzogUmVjb3JkPHN0cmluZywgc3RyaW5nPiA9IHtcblx0XCJjb21tYW5kLXJcIjogXCJjb21tYW5kLXJcIixcblx0XCJjb21tYW5kLXItcGx1c1wiOiBcImNvbW1hbmQtci1wbHVzXCIsXG59O1xuXG5jb25zdCBDT0hFUkVfU0VUVElOR1M6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gPSB7XG5cdHRlbXBlcmF0dXJlOiBcInRlbXBlcmF0dXJlXCIsXG5cdHRvcEs6IFwia1wiLFxuXHR0b3BQOiBcInBcIixcblx0bWF4VG9rZW5zOiBcIm1heF90b2tlbnNcIixcblx0ZnJlcXVlbmN5UGVuYWx0eTogXCJmcmVxdWVuY3lfcGVuYWx0eVwiLFxufTtcblxuZnVuY3Rpb24gZm9ybWF0U2VudGFuY2UodGV4dDogc3RyaW5nKSB7XG5cdHRleHQgPSB0ZXh0LmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgdGV4dC5zbGljZSgxKTtcblx0aWYgKHRleHQuY2hhckF0KHRleHQubGVuZ3RoIC0gMSkgIT0gXCIuXCIpIHtcblx0XHR0ZXh0ICs9IFwiLlwiO1xuXHR9XG5cdHJldHVybiB0ZXh0O1xufVxuXG5mdW5jdGlvbiBqb2luRW5kcG9pbnQoYmFzZTogc3RyaW5nLCBwYXRoOiBzdHJpbmcpIHtcblx0aWYgKGJhc2UuY2hhckF0KGJhc2UubGVuZ3RoIC0gMSkgPT0gcGF0aC5jaGFyQXQoMCkpIHtcblx0XHRiYXNlID0gYmFzZS5zbGljZSgwLCAtMSk7XG5cdH1cblx0cmV0dXJuIGJhc2UgKyBwYXRoO1xufVxuXG5hc3luYyBmdW5jdGlvbiBnZXRNZXNzYWdlcyhoaXN0b3J5OiBDaGF0SGlzdG9yeSwgdGFyZ2V0OiBDaGF0RW50cnkpIHtcblx0bGV0IG1lc3NhZ2VzOiBBcnJheTx7IHJvbGU6IHN0cmluZzsgY29udGVudDogc3RyaW5nIH0+ID0gW107XG5cblx0bGV0IGNvbnRlbnRzID0gW107XG5cdGZvciAoY29uc3QgW2luZGV4LCBkb2N1bWVudF0gb2YgaGlzdG9yeS5kb2N1bWVudHMuZW50cmllcygpKSB7XG5cdFx0aWYgKGRvY3VtZW50Lm11dGUpIHtcblx0XHRcdGNvbnRpbnVlO1xuXHRcdH1cblx0XHRjb25zdCBjb250ZW50ID0gYXdhaXQgaGlzdG9yeS5hcHA/LnZhdWx0LnJlYWQoZG9jdW1lbnQuZmlsZSk7XG5cdFx0Y29udGVudHMucHVzaChcblx0XHRcdGBCRUdJTiBET0NVTUVOVCAoJHtkb2N1bWVudC5maWxlLnBhdGh9KVxcbiR7Y29udGVudH1cXG5FTkQgRE9DVU1FTlRgXG5cdFx0KTtcblx0fVxuXG5cdGZvciAoY29uc3QgW2luZGV4LCBlbnRyeV0gb2YgaGlzdG9yeS5lbnRyaWVzLmVudHJpZXMoKSkge1xuXHRcdGlmICh0YXJnZXQgPT0gZW50cnkpIHtcblx0XHRcdGJyZWFrO1xuXHRcdH1cblx0XHRtZXNzYWdlcy5wdXNoKHtcblx0XHRcdHJvbGU6IGVudHJ5LnVzZXIgPyBcInVzZXJcIiA6IFwiYXNzaXN0YW50XCIsXG5cdFx0XHRjb250ZW50OiBlbnRyeS5jb250ZW50W2VudHJ5LmluZGV4XSxcblx0XHR9KTtcblx0fVxuXG5cdGlmIChtZXNzYWdlcy5sZW5ndGggPT0gMCkge1xuXHRcdG1lc3NhZ2VzLnB1c2goe1xuXHRcdFx0cm9sZTogXCJ1c2VyXCIsXG5cdFx0XHRjb250ZW50OiBcIlwiLFxuXHRcdH0pO1xuXHR9XG5cblx0Y29uc3QgdGV4dCA9IG1lc3NhZ2VzWzBdIS5jb250ZW50O1xuXHRpZiAoY29udGVudHMubGVuZ3RoID4gMCkge1xuXHRcdG1lc3NhZ2VzWzBdLmNvbnRlbnQgPSBgJHtjb250ZW50cy5qb2luKFwiXFxuXCIpfVxcbkJFR0lOIENIQVRcXG4ke3RleHR9YDtcblx0fSBlbHNlIHtcblx0XHRtZXNzYWdlc1swXS5jb250ZW50ID0gYEJFR0lOIERPQ1VNRU5UU1xcbk5PIFNIQVJFRCBET0NVTUVOVFNcXG5FTkQgRE9DVU1FTlRTXFxuQkVHSU4gQ0hBVFxcbiR7dGV4dH1gO1xuXHR9XG5cblx0cmV0dXJuIG1lc3NhZ2VzO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0QXBwcm94VG9rZW5zKFxuXHRoaXN0b3J5OiBDaGF0SGlzdG9yeSxcblx0c2V0dGluZ3M6IENoYXRTZXR0aW5nc1xuKSB7XG5cdGNvbnN0IG1lc3NhZ2VzID0gYXdhaXQgZ2V0TWVzc2FnZXMoXG5cdFx0aGlzdG9yeSxcblx0XHRoaXN0b3J5LmVudHJpZXNbaGlzdG9yeS5lbnRyaWVzLmxlbmd0aCAtIDFdXG5cdCk7XG5cdGxldCBjb3VudCA9IHNldHRpbmdzLnN5c3RlbVByb21wdC5sZW5ndGg7XG5cdGZvciAoY29uc3QgbWVzc2FnZSBvZiBtZXNzYWdlcykge1xuXHRcdGNvdW50ICs9IG1lc3NhZ2UuY29udGVudC5sZW5ndGg7XG5cdH1cblx0cmV0dXJuIE1hdGguZmxvb3IoY291bnQgLyBDSEFSU19QRVJfVE9LRU4pO1xufVxuXG5mdW5jdGlvbiBnZXRNb2RlbChzZXR0aW5nczogQ2hhdFNldHRpbmdzLCBtYXBwaW5nOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+KSB7XG5cdGxldCBtb2RlbCA9IHNldHRpbmdzLmFwaU1vZGVsO1xuXHRpZiAobW9kZWwgPT0gXCJjdXN0b21cIikge1xuXHRcdG1vZGVsID0gc2V0dGluZ3MuYXBpTW9kZWxDdXN0b207XG5cdH1cblx0aWYgKG1vZGVsIGluIG1hcHBpbmcpIHtcblx0XHRtb2RlbCA9IG1hcHBpbmdbbW9kZWxdO1xuXHR9XG5cdHJldHVybiBtb2RlbDtcbn1cblxuZnVuY3Rpb24gZ2V0Q29udGVudChcblx0Y29udGVudDogUmVjb3JkPHN0cmluZywgYW55Pixcblx0c2V0dGluZ3M6IENoYXRTZXR0aW5ncyxcblx0bWFwcGluZzogUmVjb3JkPHN0cmluZywgc3RyaW5nPlxuKSB7XG5cdGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKG1hcHBpbmcpKSB7XG5cdFx0aWYgKGtleSBpbiBzZXR0aW5ncyAmJiBzZXR0aW5nc1trZXldICE9IG51bGwpIHtcblx0XHRcdGNvbnRlbnRbdmFsdWVdID0gc2V0dGluZ3Nba2V5XTtcblx0XHR9XG5cdH1cblx0cmV0dXJuIGNvbnRlbnQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRBUEkoc2V0dGluZ3M6IENoYXRTZXR0aW5ncykge1xuXHRzd2l0Y2ggKHNldHRpbmdzLmFwaVByb3ZpZGVyKSB7XG5cdFx0Y2FzZSBcIm9wZW5haVwiOlxuXHRcdFx0cmV0dXJuIG5ldyBPcGVuQUlBUEkoT1BFTkFJX0VORFBPSU5UKSBhcyBBUEk7XG5cdFx0Y2FzZSBcIm9wZW5yb3V0ZXJcIjpcblx0XHRcdHJldHVybiBuZXcgT3BlbkFJQVBJKE9QRU5ST1VURVJfRU5EUE9JTlQpIGFzIEFQSTtcblx0XHRjYXNlIFwidG9nZXRoZXJhaVwiOlxuXHRcdFx0cmV0dXJuIG5ldyBPcGVuQUlBUEkoVE9HRVRIRVJfRU5EUE9JTlQpIGFzIEFQSTtcblx0XHRjYXNlIFwib3BlbmFpLWN1c3RvbVwiOlxuXHRcdFx0cmV0dXJuIG5ldyBPcGVuQUlBUEkoc2V0dGluZ3MuYXBpRW5kcG9pbnQpIGFzIEFQSTtcblx0XHRjYXNlIFwiYW50aHJvcGljXCI6XG5cdFx0XHRyZXR1cm4gbmV3IEFudGhyb3BpY0FQSShBTlRIUk9QSUNfRU5EUE9JTlQpIGFzIEFQSTtcblx0XHRjYXNlIFwiYW50aHJvcGljLWN1c3RvbVwiOlxuXHRcdFx0cmV0dXJuIG5ldyBBbnRocm9waWNBUEkoc2V0dGluZ3MuYXBpRW5kcG9pbnQpIGFzIEFQSTtcblx0XHRjYXNlIFwiY29oZXJlXCI6XG5cdFx0XHRyZXR1cm4gbmV3IENvaGVyZUFQSShDT0hFUkVfRU5EUE9JTlQpIGFzIEFQSTtcblx0fVxuXHRyZXR1cm4gbnVsbDtcbn1cblxuZXhwb3J0IGNsYXNzIEFQSSB7XG5cdGV2ZW50czogRXZlbnRFbWl0dGVyO1xuXHRyZXF1ZXN0OiBDbGllbnRSZXF1ZXN0O1xuXHRlbmRwb2ludDogc3RyaW5nO1xuXHRjb25zdHJ1Y3RvcihlbmRwb2ludDogc3RyaW5nKSB7XG5cdFx0dGhpcy5lbmRwb2ludCA9IGVuZHBvaW50O1xuXHRcdHRoaXMuZXZlbnRzID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuXHR9XG5cdGFzeW5jIGdldEVuZHBvaW50KCkge1xuXHRcdHJldHVybiB0aGlzLmVuZHBvaW50O1xuXHR9XG5cdGFzeW5jIGdldEJvZHkoXG5cdFx0aGlzdG9yeTogQ2hhdEhpc3RvcnksXG5cdFx0dGFyZ2V0OiBDaGF0RW50cnksXG5cdFx0c2V0dGluZ3M6IENoYXRTZXR0aW5nc1xuXHQpIHtcblx0XHRyZXR1cm4gXCJcIjtcblx0fVxuXHRhc3luYyBnZXRIZWFkZXJzKHNldHRpbmdzOiBDaGF0U2V0dGluZ3MpIHtcblx0XHRyZXR1cm4ge30gYXMgUmVjb3JkPHN0cmluZywgYW55Pjtcblx0fVxuXG5cdGFzeW5jIGhhbmRsZUNodW5rKGNodW5rOiBzdHJpbmcsIHBhcnNlcjogRXZlbnRTb3VyY2VQYXJzZXIpIHtcblx0XHR0cnkge1xuXHRcdFx0cGFyc2VyLmZlZWQoY2h1bmspO1xuXHRcdH0gY2F0Y2gge31cblx0fVxuXG5cdGFzeW5jIHNlbmQoXG5cdFx0aGlzdG9yeTogQ2hhdEhpc3RvcnksXG5cdFx0dGFyZ2V0OiBDaGF0RW50cnksXG5cdFx0c2V0dGluZ3M6IENoYXRTZXR0aW5nc1xuXHQpIHtcblx0XHRjb25zdCB1cmwgPSBhd2FpdCB0aGlzLmdldEVuZHBvaW50KCk7XG5cdFx0Y29uc3QgYm9keSA9IGF3YWl0IHRoaXMuZ2V0Qm9keShoaXN0b3J5LCB0YXJnZXQsIHNldHRpbmdzKTtcblx0XHRsZXQgaGVhZGVycyA9IGF3YWl0IHRoaXMuZ2V0SGVhZGVycyhzZXR0aW5ncyk7XG5cblx0XHRoZWFkZXJzW1wiY2hhcnNldFwiXSA9IFwiVVRGLThcIjtcblx0XHRoZWFkZXJzW1wiY29udGVudC10eXBlXCJdID0gXCJhcHBsaWNhdGlvbi9qc29uOyBjaGFyc2V0PVVURi04XCI7XG5cdFx0aGVhZGVyc1tcImNvbnRlbnQtbGVuZ3RoXCJdID0gYm9keS5sZW5ndGg7XG5cblx0XHRjb25zdCBwYXJzZXIgPSBjcmVhdGVQYXJzZXIoKGV2ZW50KSA9PiB7XG5cdFx0XHRpZiAoZXZlbnQudHlwZSAhPSBcImV2ZW50XCIpIHJldHVybjtcblxuXHRcdFx0Y29uc3QgcmVzcG9uc2UgPSBKU09OLnBhcnNlKGV2ZW50LmRhdGEpO1xuXHRcdFx0Y29uc3QgdHlwZSA9XG5cdFx0XHRcdHJlc3BvbnNlLm9iamVjdCA/PyByZXNwb25zZS50eXBlID8/IHJlc3BvbnNlLmV2ZW50X3R5cGU7XG5cblx0XHRcdHN3aXRjaCAodHlwZSkge1xuXHRcdFx0XHRjYXNlIFwiY2hhdC5jb21wbGV0aW9uLmNodW5rXCI6IC8vIE9wZW5BSVxuXHRcdFx0XHRjYXNlIFwiY29tcGxldGlvbi5jaHVua1wiOiAvLyBUb2dldGhlckFJXG5cdFx0XHRcdFx0bGV0IGNodW5rID0gcmVzcG9uc2UuY2hvaWNlc1swXS5kZWx0YS5jb250ZW50O1xuXHRcdFx0XHRcdGlmIChjaHVuayAhPSB1bmRlZmluZWQpIHtcblx0XHRcdFx0XHRcdHRoaXMuZXZlbnRzLmVtaXQoXCJ0ZXh0XCIsIGNodW5rKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdGNhc2UgXCJjb250ZW50X2Jsb2NrX3N0YXJ0XCI6IC8vIEFudGhyb3BpY1xuXHRcdFx0XHRcdGlmIChyZXNwb25zZS5jb250ZW50X2Jsb2NrLnR5cGUgPT09IFwidGV4dFwiKSB7XG5cdFx0XHRcdFx0XHR0aGlzLmV2ZW50cy5lbWl0KFwidGV4dFwiLCByZXNwb25zZS5jb250ZW50X2Jsb2NrLnRleHQpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0Y2FzZSBcImNvbnRlbnRfYmxvY2tfZGVsdGFcIjogLy8gQW50aHJvcGljXG5cdFx0XHRcdFx0aWYgKHJlc3BvbnNlLmRlbHRhLnR5cGUgPT09IFwidGV4dF9kZWx0YVwiKSB7XG5cdFx0XHRcdFx0XHR0aGlzLmV2ZW50cy5lbWl0KFwidGV4dFwiLCByZXNwb25zZS5kZWx0YS50ZXh0KTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdGNhc2UgXCJ0ZXh0LWdlbmVyYXRpb25cIjogLy8gQ29oZXJlXG5cdFx0XHRcdFx0dGhpcy5ldmVudHMuZW1pdChcInRleHRcIiwgcmVzcG9uc2UudGV4dCk7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdGRlZmF1bHQ6XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHR9XG5cdFx0fSk7XG5cblx0XHR0aGlzLnJlcXVlc3QgPSByZXF1ZXN0KFxuXHRcdFx0dXJsLFxuXHRcdFx0e1xuXHRcdFx0XHRtZXRob2Q6IFwiUE9TVFwiLFxuXHRcdFx0XHRoZWFkZXJzOiBoZWFkZXJzLFxuXHRcdFx0fSxcblx0XHRcdGFzeW5jIChyZXNwb25zZTogSW5jb21pbmdNZXNzYWdlKSA9PiB7XG5cdFx0XHRcdGNvbnN0IHN0YXR1cyA9IHJlc3BvbnNlLnN0YXR1c0NvZGUgPz8gMDtcblx0XHRcdFx0dGhpcy5ldmVudHMuZW1pdChcInN0YXR1c1wiLCBzdGF0dXMpO1xuXHRcdFx0XHRpZiAoc3RhdHVzID09IDIwMCkge1xuXHRcdFx0XHRcdHJlc3BvbnNlLnNvY2tldC5zZXRUaW1lb3V0KDApO1xuXHRcdFx0XHRcdHJlc3BvbnNlLnNldEVuY29kaW5nKFwidXRmOFwiKTtcblx0XHRcdFx0XHRyZXNwb25zZS5vbihcImRhdGFcIiwgYXN5bmMgKGNodW5rOiBzdHJpbmcpID0+IHtcblx0XHRcdFx0XHRcdGF3YWl0IHRoaXMuaGFuZGxlQ2h1bmsoY2h1bmssIHBhcnNlcik7XG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0cmVzcG9uc2Uub24oXCJlbmRcIiwgKCkgPT4ge1xuXHRcdFx0XHRcdFx0dGhpcy5ldmVudHMuZW1pdChcImRvbmVcIik7XG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0bGV0IGRhdGEgPSBcIlwiO1xuXHRcdFx0XHRcdHJlc3BvbnNlLm9uKFwiZGF0YVwiLCAoY2h1bms6IHN0cmluZykgPT4ge1xuXHRcdFx0XHRcdFx0ZGF0YSArPSBjaHVuaztcblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRyZXNwb25zZS5vbihcImNsb3NlXCIsICgpID0+IHtcblx0XHRcdFx0XHRcdGxldCB0aXRsZSA9IGBIVFRQICR7c3RhdHVzfSAke0hUVFBTdGF0dXNbc3RhdHVzXX1gO1xuXHRcdFx0XHRcdFx0bGV0IGRldGFpbHMgPSBFUlJPUl9TVUZGSVg7XG5cdFx0XHRcdFx0XHR0cnkge1xuXHRcdFx0XHRcdFx0XHRsZXQgZXJyID0gZm9ybWF0U2VudGFuY2UoXG5cdFx0XHRcdFx0XHRcdFx0SlNPTi5wYXJzZShkYXRhKS5lcnJvci5tZXNzYWdlXG5cdFx0XHRcdFx0XHRcdCk7XG5cdFx0XHRcdFx0XHRcdGRldGFpbHMgPSBgJHtlcnJ9XFxuJHtkZXRhaWxzfWA7XG5cdFx0XHRcdFx0XHR9IGNhdGNoIHt9XG5cdFx0XHRcdFx0XHR0aGlzLmV2ZW50cy5lbWl0KFwiZXJyb3JcIiwgYCR7dGl0bGV9XFxuJHtkZXRhaWxzfWApO1xuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0KTtcblx0XHR0aGlzLnJlcXVlc3Qub24oXCJlcnJvclwiLCAoZTogRXJyb3IpID0+IHtcblx0XHRcdHRoaXMuZXZlbnRzLmVtaXQoXG5cdFx0XHRcdFwiZXJyb3JcIixcblx0XHRcdFx0YFJlcXVlc3QgRmFpbGVkXFxuJHtlLm5hbWV9OiAke2Zvcm1hdFNlbnRhbmNlKFxuXHRcdFx0XHRcdGUubWVzc2FnZVxuXHRcdFx0XHQpfVxcbiR7RVJST1JfU1VGRklYfWBcblx0XHRcdCk7XG5cdFx0fSk7XG5cdFx0dGhpcy5yZXF1ZXN0Lm9uKFwidGltZW91dFwiLCAoZTogRXJyb3IpID0+IHtcblx0XHRcdHRoaXMuZXZlbnRzLmVtaXQoXG5cdFx0XHRcdFwiZXJyb3JcIixcblx0XHRcdFx0YFJlcXVlc3QgRmFpbGVkXFxuVGltZW91dFxcbiR7RVJST1JfU1VGRklYfWBcblx0XHRcdCk7XG5cdFx0XHR0aGlzLmV2ZW50cy5lbWl0KFwiY2xvc2VcIik7XG5cdFx0fSk7XG5cdFx0dGhpcy5yZXF1ZXN0Lm9uKFwiY2xvc2VcIiwgKCkgPT4ge1xuXHRcdFx0dGhpcy5ldmVudHMuZW1pdChcImNsb3NlXCIpO1xuXHRcdH0pO1xuXG5cdFx0dGhpcy5yZXF1ZXN0LnNldFRpbWVvdXQoMTAgKiAxMDAwKTtcblxuXHRcdHRoaXMucmVxdWVzdC53cml0ZShCdWZmZXIuZnJvbShib2R5LCBcInV0ZjhcIikpO1xuXHRcdHRoaXMucmVxdWVzdC5lbmQoKTtcblx0fVxuXG5cdGFzeW5jIGFib3J0KCkge1xuXHRcdGlmICh0aGlzLnJlcXVlc3QpIHtcblx0XHRcdHRoaXMuZXZlbnRzLmVtaXQoXCJhYm9ydFwiKTtcblx0XHRcdHRoaXMucmVxdWVzdC5kZXN0cm95KCk7XG5cdFx0fVxuXHR9XG59XG5cbmV4cG9ydCBjbGFzcyBBbnRocm9waWNBUEkgZXh0ZW5kcyBBUEkge1xuXHRhc3luYyBnZXRFbmRwb2ludCgpIHtcblx0XHRyZXR1cm4gam9pbkVuZHBvaW50KHRoaXMuZW5kcG9pbnQsIEFOVEhST1BJQ19QQVRIKTtcblx0fVxuXHRhc3luYyBnZXRCb2R5KFxuXHRcdGhpc3Rvcnk6IENoYXRIaXN0b3J5LFxuXHRcdHRhcmdldDogQ2hhdEVudHJ5LFxuXHRcdHNldHRpbmdzOiBDaGF0U2V0dGluZ3Ncblx0KSB7XG5cdFx0Y29uc3QgbWVzc2FnZXMgPSBhd2FpdCBnZXRNZXNzYWdlcyhoaXN0b3J5LCB0YXJnZXQpO1xuXHRcdGNvbnN0IGNvbnRlbnQgPSBnZXRDb250ZW50KFxuXHRcdFx0e1xuXHRcdFx0XHRtb2RlbDogZ2V0TW9kZWwoc2V0dGluZ3MsIEFOVEhST1BJQ19NT0RFTFMpLFxuXHRcdFx0XHRtZXNzYWdlczogbWVzc2FnZXMsXG5cdFx0XHRcdHN0cmVhbTogdHJ1ZSxcblx0XHRcdFx0c3lzdGVtOiBzZXR0aW5ncy5zeXN0ZW1Qcm9tcHQsXG5cdFx0XHRcdG1heF90b2tlbnM6IHNldHRpbmdzLm1heFRva2VucyA/PyAxMDI0LFxuXHRcdFx0fSxcblx0XHRcdHNldHRpbmdzLFxuXHRcdFx0QU5USFJPUElDX1NFVFRJTkdTXG5cdFx0KTtcblx0XHRjb25zdCBib2R5ID0gc2FuaXRpemUoSlNPTi5zdHJpbmdpZnkoY29udGVudCkpO1xuXG5cdFx0cmV0dXJuIGJvZHk7XG5cdH1cblxuXHRhc3luYyBnZXRIZWFkZXJzKHNldHRpbmdzOiBDaGF0U2V0dGluZ3MpIHtcblx0XHRjb25zdCBoZWFkZXJzID0ge1xuXHRcdFx0XCJhbnRocm9waWMtdmVyc2lvblwiOiBcIjIwMjMtMDYtMDFcIixcblx0XHRcdFwiYW50aHJvcGljLWJldGFcIjogXCJtZXNzYWdlcy0yMDIzLTEyLTE1XCIsXG5cdFx0XHRcIngtYXBpLWtleVwiOiBzZXR0aW5ncy5hcGlLZXksXG5cdFx0fTtcblxuXHRcdHJldHVybiBoZWFkZXJzO1xuXHR9XG59XG5cbmV4cG9ydCBjbGFzcyBPcGVuQUlBUEkgZXh0ZW5kcyBBUEkge1xuXHRhc3luYyBnZXRFbmRwb2ludCgpIHtcblx0XHRyZXR1cm4gam9pbkVuZHBvaW50KHRoaXMuZW5kcG9pbnQsIE9QRU5BSV9QQVRIKTtcblx0fVxuXHRhc3luYyBnZXRCb2R5KFxuXHRcdGhpc3Rvcnk6IENoYXRIaXN0b3J5LFxuXHRcdHRhcmdldDogQ2hhdEVudHJ5LFxuXHRcdHNldHRpbmdzOiBDaGF0U2V0dGluZ3Ncblx0KSB7XG5cdFx0Y29uc3QgbWVzc2FnZXMgPSBhd2FpdCBnZXRNZXNzYWdlcyhoaXN0b3J5LCB0YXJnZXQpO1xuXHRcdGlmIChzZXR0aW5ncy5zeXN0ZW1Qcm9tcHQudHJpbSgpLmxlbmd0aCAhPSAwKSB7XG5cdFx0XHRtZXNzYWdlcy51bnNoaWZ0KHtcblx0XHRcdFx0cm9sZTogXCJzeXN0ZW1cIixcblx0XHRcdFx0Y29udGVudDogc2V0dGluZ3Muc3lzdGVtUHJvbXB0LFxuXHRcdFx0fSk7XG5cdFx0fVxuXHRcdGNvbnN0IGNvbnRlbnQgPSBnZXRDb250ZW50KFxuXHRcdFx0e1xuXHRcdFx0XHRtb2RlbDogZ2V0TW9kZWwoc2V0dGluZ3MsIE9QRU5BSV9NT0RFTFMpLFxuXHRcdFx0XHRtZXNzYWdlczogbWVzc2FnZXMsXG5cdFx0XHRcdHN0cmVhbTogdHJ1ZSxcblx0XHRcdH0sXG5cdFx0XHRzZXR0aW5ncyxcblx0XHRcdE9QRU5BSV9TRVRUSU5HU1xuXHRcdCk7XG5cdFx0Y29uc3QgYm9keSA9IHNhbml0aXplKEpTT04uc3RyaW5naWZ5KGNvbnRlbnQpKTtcblxuXHRcdHJldHVybiBib2R5O1xuXHR9XG5cblx0YXN5bmMgZ2V0SGVhZGVycyhzZXR0aW5nczogQ2hhdFNldHRpbmdzKTogUHJvbWlzZTxSZWNvcmQ8c3RyaW5nLCBhbnk+PiB7XG5cdFx0Y29uc3QgaGVhZGVycyA9IHtcblx0XHRcdGFjY2VwdDogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG5cdFx0XHRhdXRob3JpemF0aW9uOiBgQmVhcmVyICR7c2V0dGluZ3MuYXBpS2V5fWAsXG5cdFx0fTtcblx0XHRyZXR1cm4gaGVhZGVycztcblx0fVxufVxuXG5leHBvcnQgY2xhc3MgQ29oZXJlQVBJIGV4dGVuZHMgQVBJIHtcblx0Y3VycmVudENodW5rOiBzdHJpbmc7XG5cdGFzeW5jIGdldEVuZHBvaW50KCkge1xuXHRcdHJldHVybiBqb2luRW5kcG9pbnQodGhpcy5lbmRwb2ludCwgQ09IRVJFX1BBVEgpO1xuXHR9XG5cdGFzeW5jIGdldEJvZHkoXG5cdFx0aGlzdG9yeTogQ2hhdEhpc3RvcnksXG5cdFx0dGFyZ2V0OiBDaGF0RW50cnksXG5cdFx0c2V0dGluZ3M6IENoYXRTZXR0aW5nc1xuXHQpIHtcblx0XHRsZXQgbWVzc2FnZXM6IGFueVtdID0gYXdhaXQgZ2V0TWVzc2FnZXMoaGlzdG9yeSwgdGFyZ2V0KTtcblx0XHRsZXQgbGFzdE1lc3NhZ2UgPSBtZXNzYWdlcy5sYXN0KCk7XG5cdFx0bWVzc2FnZXMuc3BsaWNlKG1lc3NhZ2VzLmxlbmd0aCAtIDEsIDEpO1xuXG5cdFx0Y29uc3Qgcm9sZU1hcDogUmVjb3JkPHN0cmluZywgc3RyaW5nPiA9IHtcblx0XHRcdHVzZXI6IFwiVVNFUlwiLFxuXHRcdFx0YXNzaXN0YW50OiBcIkNIQVRCT1RcIixcblx0XHR9O1xuXG5cdFx0bWVzc2FnZXMgPSBtZXNzYWdlcy5tYXAoKHZhbHVlKSA9PiB7XG5cdFx0XHRyZXR1cm4geyByb2xlOiByb2xlTWFwW3ZhbHVlLnJvbGVdLCBtZXNzYWdlOiB2YWx1ZS5jb250ZW50IH07XG5cdFx0fSk7XG5cblx0XHRsZXQgcmVxdWVzdDogUmVjb3JkPHN0cmluZywgYW55PiA9IHtcblx0XHRcdG1vZGVsOiBnZXRNb2RlbChzZXR0aW5ncywgQ09IRVJFX01PREVMUyksXG5cdFx0XHRtZXNzYWdlOiBsYXN0TWVzc2FnZSEuY29udGVudCxcblx0XHRcdGNoYXRfaGlzdG9yeTogbWVzc2FnZXMsXG5cdFx0XHRzdHJlYW06IHRydWUsXG5cdFx0fTtcblxuXHRcdGlmIChzZXR0aW5ncy5zeXN0ZW1Qcm9tcHQudHJpbSgpLmxlbmd0aCAhPSAwKSB7XG5cdFx0XHRyZXF1ZXN0LnByZWFtYmxlID0gc2V0dGluZ3Muc3lzdGVtUHJvbXB0O1xuXHRcdH1cblxuXHRcdGNvbnN0IGNvbnRlbnQgPSBnZXRDb250ZW50KHJlcXVlc3QsIHNldHRpbmdzLCBDT0hFUkVfU0VUVElOR1MpO1xuXHRcdGNvbnN0IGJvZHkgPSBzYW5pdGl6ZShKU09OLnN0cmluZ2lmeShjb250ZW50KSk7XG5cblx0XHRyZXR1cm4gYm9keTtcblx0fVxuXG5cdGFzeW5jIGdldEhlYWRlcnMoc2V0dGluZ3M6IENoYXRTZXR0aW5ncyk6IFByb21pc2U8UmVjb3JkPHN0cmluZywgYW55Pj4ge1xuXHRcdGNvbnN0IGhlYWRlcnMgPSB7XG5cdFx0XHRhY2NlcHQ6IFwiYXBwbGljYXRpb24vanNvblwiLFxuXHRcdFx0YXV0aG9yaXphdGlvbjogYEJlYXJlciAke3NldHRpbmdzLmFwaUtleX1gLFxuXHRcdH07XG5cblx0XHRyZXR1cm4gaGVhZGVycztcblx0fVxuXG5cdGFzeW5jIGhhbmRsZUNodW5rKGNodW5rOiBzdHJpbmcsIHBhcnNlcjogRXZlbnRTb3VyY2VQYXJzZXIpIHtcblx0XHRjaHVuayA9ICh0aGlzLmN1cnJlbnRDaHVuayA/PyBcIlwiKSArIGNodW5rO1xuXHRcdHRoaXMuY3VycmVudENodW5rID0gXCJcIjtcblxuXHRcdGxldCBjaHVua3M6IHN0cmluZ1tdID0gY2h1bmsuc3BsaXQoXCJcXG5cIik7XG5cdFx0bGV0IGxhc3RDaHVuayA9IGNodW5rcy5wb3AoKSE7XG5cblx0XHRpZiAobGFzdENodW5rLmxlbmd0aCAhPSAwKSB7XG5cdFx0XHR0aGlzLmN1cnJlbnRDaHVuayA9IGxhc3RDaHVuaztcblx0XHR9XG5cblx0XHRmb3IgKGxldCBjaHVuayBvZiBjaHVua3MpIHtcblx0XHRcdHBhcnNlci5mZWVkKGBldmVudDogY29oZXJlXFxuZGF0YToke2NodW5rfVxcblxcbmApO1xuXHRcdH1cblx0fVxufVxuIiwgImltcG9ydCB7IEFwcCwgQnV0dG9uQ29tcG9uZW50LCBQbHVnaW5TZXR0aW5nVGFiLCBTZXR0aW5nIH0gZnJvbSBcIm9ic2lkaWFuXCI7XG5pbXBvcnQgeyBDaGF0U2V0dGluZ1Byb2ZpbGVzLCBDaGF0U2V0dGluZ3MgfSBmcm9tIFwiLi9jb21tb25cIjtcbmltcG9ydCBDaGF0UGx1Z2luIGZyb20gXCIuL21haW5cIjtcblxuZXhwb3J0IGNvbnN0IERFRkFVTFRfU0VUVElOR1M6IENoYXRTZXR0aW5nUHJvZmlsZXMgPSB7XG5cdGN1cnJlbnQ6IDAsXG5cdG5hbWVzOiBbXCJEZWZhdWx0XCJdLFxuXHRzZXR0aW5nczogW1xuXHRcdHtcblx0XHRcdGFwaVByb3ZpZGVyOiBcIm9wZW5haVwiLFxuXHRcdFx0YXBpTW9kZWw6IFwiZ3B0LTRcIixcblx0XHRcdGFwaU1vZGVsQ3VzdG9tOiBcIlwiLFxuXHRcdFx0YXBpS2V5OiBcIlwiLFxuXHRcdFx0YXBpRW5kcG9pbnQ6IFwiXCIsXG5cdFx0XHRzeXN0ZW1Qcm9tcHQ6XG5cdFx0XHRcdFwiWW91IGFyZSBhbiBhc3Npc3RhbnQgaW4gT2JzaWRpYW4sIGEgbm90ZS10YWtpbmcgcHJvZ3JhbS4gU2hhcmVkIG5vdGVzL2RvY3VtZW50cyBhcmUgcHJvdmlkZWQuIERvbnQgc2hvdyB0aGUgZG9jdW1lbnQgZm9ybWF0dGluZyAoQkVHSU4gRE9DVU1FTlQgZXRjKS5cIixcblx0XHRcdG1heFRva2VuczogbnVsbCxcblx0XHRcdHRlbXBlcmF0dXJlOiBudWxsLFxuXHRcdFx0dG9wSzogbnVsbCxcblx0XHRcdHRvcFA6IG51bGwsXG5cdFx0XHRmcmVxdWVuY3lQZW5hbHR5OiBudWxsLFxuXHRcdH0sXG5cdF0sXG59O1xuY29uc3QgUFJPVklERVJTOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+ID0ge1xuXHRhbnRocm9waWM6IFwiQW50aHJvcGljXCIsXG5cdG9wZW5haTogXCJPcGVuQUlcIixcblx0Y29oZXJlOiBcIkNvaGVyZVwiLFxuXHRvcGVucm91dGVyOiBcIk9wZW5Sb3V0ZXJcIixcblx0dG9nZXRoZXJhaTogXCJUb2dldGhlckFJXCIsXG5cdFwib3BlbmFpLWN1c3RvbVwiOiBcIk9wZW5BSSBjb21wYXRpYmxlXCIsXG5cdFwiYW50aHJvcGljLWN1c3RvbVwiOiBcIkFudGhyb3BpYyBjb21wYXRpYmxlXCIsXG59O1xuY29uc3QgUFJPVklERVJfTU9ERUxTOiBSZWNvcmQ8c3RyaW5nLCBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+PiA9IHtcblx0YW50aHJvcGljOiB7XG5cdFx0XCJjbGF1ZGUtMy1vcHVzXCI6IFwiQ2xhdWRlIDMgT3B1c1wiLFxuXHRcdFwiY2xhdWRlLTMtc29ubmV0XCI6IFwiQ2xhdWRlIDMgU29ubmV0XCIsXG5cdFx0XCJjbGF1ZGUtMy1oYWlrdVwiOiBcIkNsYXVkZSAzIEhhaWt1XCIsXG5cdH0sXG5cdG9wZW5haToge1xuXHRcdFwiZ3B0LTRcIjogXCJHUFQtNFwiLFxuXHRcdFwiZ3B0LTQtdHVyYm9cIjogXCJHUFQtNCBUdXJib1wiLFxuXHRcdFwiZ3B0LTMuNS10dXJib1wiOiBcIkdQVC0zLjUgVHVyYm9cIixcblx0fSxcblx0Y29oZXJlOiB7XG5cdFx0XCJjb21tYW5kLXJcIjogXCJDb21tYW5kIFJcIixcblx0XHRcImNvbW1hbmQtci1wbHVzXCI6IFwiQ29tbWFuZCBSK1wiLFxuXHR9LFxuXHRvcGVucm91dGVyOiB7fSxcblx0dG9nZXRoZXJhaToge30sXG5cdFwib3BlbmFpLWN1c3RvbVwiOiB7fSxcblx0XCJhbnRocm9waWMtY3VzdG9tXCI6IHt9LFxufTtcblxuZXhwb3J0IGNsYXNzIENoYXRTZXR0aW5nVGFiIGV4dGVuZHMgUGx1Z2luU2V0dGluZ1RhYiB7XG5cdHBsdWdpbjogQ2hhdFBsdWdpbjtcblxuXHRjb25zdHJ1Y3RvcihhcHA6IEFwcCwgcGx1Z2luOiBDaGF0UGx1Z2luKSB7XG5cdFx0c3VwZXIoYXBwLCBwbHVnaW4pO1xuXHRcdHRoaXMucGx1Z2luID0gcGx1Z2luO1xuXHR9XG5cblx0aXNOYW1lQXZhaWxhYmxlKG5hbWU6IHN0cmluZykge1xuXHRcdHJldHVybiBuYW1lLmxlbmd0aCA+IDAgJiYgIXRoaXMucGx1Z2luLnByb2ZpbGVzLm5hbWVzLmluY2x1ZGVzKG5hbWUpO1xuXHR9XG5cblx0YWRkU2V0dGluZyhuYW1lOiBzdHJpbmcgPSBcIlwiKSB7XG5cdFx0aWYgKG5hbWUubGVuZ3RoID09IDApIHtcblx0XHRcdG5hbWUgPSBERUZBVUxUX1NFVFRJTkdTLm5hbWVzWzBdO1xuXHRcdH1cblx0XHRjb25zdCBzZXR0aW5nczogQ2hhdFNldHRpbmdzID0ge1xuXHRcdFx0Li4uREVGQVVMVF9TRVRUSU5HUy5zZXR0aW5nc1swXSxcblx0XHR9O1xuXHRcdHRoaXMucGx1Z2luLnByb2ZpbGVzLm5hbWVzLnB1c2gobmFtZSk7XG5cdFx0dGhpcy5wbHVnaW4ucHJvZmlsZXMuc2V0dGluZ3MucHVzaChzZXR0aW5ncyk7XG5cdFx0dGhpcy5wbHVnaW4ucHJvZmlsZXMuY3VycmVudCA9IHRoaXMucGx1Z2luLnByb2ZpbGVzLm5hbWVzLmxlbmd0aCAtIDE7XG5cdH1cblxuXHRkaXNwbGF5KCk6IHZvaWQge1xuXHRcdGNvbnN0IHsgY29udGFpbmVyRWwgfSA9IHRoaXM7XG5cdFx0Y29udGFpbmVyRWwuZW1wdHkoKTtcblxuXHRcdGNvbnN0IGN1cnJlbnRJbmRleCA9IHRoaXMucGx1Z2luLnByb2ZpbGVzLmN1cnJlbnQ7XG5cdFx0Y29uc3QgY3VycmVudE5hbWUgPSB0aGlzLnBsdWdpbi5wcm9maWxlcy5uYW1lc1tjdXJyZW50SW5kZXhdO1xuXHRcdGNvbnN0IGN1cnJlbnRTZXR0aW5ncyA9IHRoaXMucGx1Z2luLnByb2ZpbGVzLnNldHRpbmdzW2N1cnJlbnRJbmRleF07XG5cdFx0Y29uc3QgcHJvZmlsZU5hbWVzID0gdGhpcy5wbHVnaW4ucHJvZmlsZXMubmFtZXMucmVkdWNlKFxuXHRcdFx0KGEsIHYpID0+ICh7IC4uLmEsIFt2XTogdiB9KSxcblx0XHRcdHt9XG5cdFx0KTtcblxuXHRcdG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxuXHRcdFx0LnNldEhlYWRpbmcoKVxuXHRcdFx0LnNldE5hbWUoXCJQcm9maWxlXCIpXG5cdFx0XHQuc2V0Q2xhc3MoXCJhc3lzX19zZXR0aW5nLWhlYWRpbmdcIik7XG5cblx0XHRuZXcgU2V0dGluZyhjb250YWluZXJFbClcblx0XHRcdC5zZXROYW1lKFwiQ3VycmVudCBwcm9maWxlXCIpXG5cdFx0XHQuYWRkRHJvcGRvd24oYXN5bmMgKGNvbXBvbmVudCkgPT4ge1xuXHRcdFx0XHRjb21wb25lbnQuc2VsZWN0RWwuYWRkQ2xhc3MoXCJhc3lzX19zZXR0aW5nLW1lZGl1bVwiKTtcblx0XHRcdFx0Y29tcG9uZW50LmFkZE9wdGlvbnMocHJvZmlsZU5hbWVzKTtcblx0XHRcdFx0Y29tcG9uZW50LnNldFZhbHVlKGN1cnJlbnROYW1lKTtcblx0XHRcdFx0Y29tcG9uZW50Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xuXHRcdFx0XHRcdGNvbnN0IGlkeCA9IHRoaXMucGx1Z2luLnByb2ZpbGVzLm5hbWVzLmluZGV4T2YodmFsdWUpO1xuXHRcdFx0XHRcdHRoaXMucGx1Z2luLnByb2ZpbGVzLmN1cnJlbnQgPSBpZHg7XG5cdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG5cdFx0XHRcdFx0YXdhaXQgdGhpcy5kaXNwbGF5KCk7XG5cdFx0XHRcdH0pO1xuXHRcdFx0fSk7XG5cblx0XHRsZXQgcmVuYW1lTmFtZSA9IFwiXCI7XG5cdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG5cdFx0XHQuc2V0TmFtZShcIkVkaXQgcHJvZmlsZVwiKVxuXHRcdFx0LmFkZEJ1dHRvbigoY29tcG9uZW50KSA9PiB7XG5cdFx0XHRcdGNvbXBvbmVudC5idXR0b25FbC5hZGRDbGFzcyhcImFzeXNfX3NldHRpbmctc21hbGxcIik7XG5cdFx0XHRcdGNvbXBvbmVudC5zZXRCdXR0b25UZXh0KFwiRGVsZXRlXCIpO1xuXHRcdFx0XHRjb21wb25lbnQub25DbGljayhhc3luYyAoKSA9PiB7XG5cdFx0XHRcdFx0dGhpcy5wbHVnaW4ucHJvZmlsZXMubmFtZXMuc3BsaWNlKGN1cnJlbnRJbmRleCwgMSk7XG5cdFx0XHRcdFx0dGhpcy5wbHVnaW4ucHJvZmlsZXMuc2V0dGluZ3Muc3BsaWNlKGN1cnJlbnRJbmRleCwgMSk7XG5cdFx0XHRcdFx0dGhpcy5wbHVnaW4ucHJvZmlsZXMuY3VycmVudCA9IE1hdGgubWF4KFxuXHRcdFx0XHRcdFx0Y3VycmVudEluZGV4IC0gMSxcblx0XHRcdFx0XHRcdDBcblx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdGlmICh0aGlzLnBsdWdpbi5wcm9maWxlcy5uYW1lcy5sZW5ndGggPT0gMCkge1xuXHRcdFx0XHRcdFx0dGhpcy5hZGRTZXR0aW5nKCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuXHRcdFx0XHRcdGF3YWl0IHRoaXMuZGlzcGxheSgpO1xuXHRcdFx0XHR9KTtcblx0XHRcdH0pXG5cdFx0XHQuYWRkVGV4dCgoY29tcG9uZW50KSA9PiB7XG5cdFx0XHRcdGNvbXBvbmVudC5pbnB1dEVsLmFkZENsYXNzKFwiYXN5c19fc2V0dGluZy1uYW1lXCIpO1xuXHRcdFx0XHRjb21wb25lbnQuc2V0UGxhY2Vob2xkZXIoXCJOYW1lXCIpO1xuXHRcdFx0XHRjb21wb25lbnQub25DaGFuZ2UoKHZhbHVlKSA9PiB7XG5cdFx0XHRcdFx0cmVuYW1lTmFtZSA9IHZhbHVlO1xuXHRcdFx0XHR9KTtcblx0XHRcdH0pXG5cdFx0XHQuYWRkQnV0dG9uKChjb21wb25lbnQpID0+IHtcblx0XHRcdFx0Y29tcG9uZW50LmJ1dHRvbkVsLmFkZENsYXNzKFwiYXN5c19fc2V0dGluZy1zbWFsbFwiKTtcblx0XHRcdFx0Y29tcG9uZW50LnNldEJ1dHRvblRleHQoXCJSZW5hbWVcIik7XG5cdFx0XHRcdGNvbXBvbmVudC5vbkNsaWNrKGFzeW5jICgpID0+IHtcblx0XHRcdFx0XHRpZiAodGhpcy5pc05hbWVBdmFpbGFibGUocmVuYW1lTmFtZSkpIHtcblx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLnByb2ZpbGVzLm5hbWVzW2N1cnJlbnRJbmRleF0gPSByZW5hbWVOYW1lO1xuXHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG5cdFx0XHRcdFx0XHRhd2FpdCB0aGlzLmRpc3BsYXkoKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0pO1xuXHRcdFx0fSk7XG5cblx0XHRsZXQgbmV3TmFtZSA9IFwiXCI7XG5cdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG5cdFx0XHQuc2V0TmFtZShcIk5ldyBwcm9maWxlXCIpXG5cdFx0XHQuYWRkVGV4dCgoY29tcG9uZW50KSA9PiB7XG5cdFx0XHRcdGNvbXBvbmVudC5pbnB1dEVsLmFkZENsYXNzKFwiYXN5c19fc2V0dGluZy1uYW1lXCIpO1xuXHRcdFx0XHRjb21wb25lbnQuc2V0UGxhY2Vob2xkZXIoXCJOYW1lXCIpO1xuXHRcdFx0XHRjb21wb25lbnQub25DaGFuZ2UoKHZhbHVlKSA9PiB7XG5cdFx0XHRcdFx0bmV3TmFtZSA9IHZhbHVlO1xuXHRcdFx0XHR9KTtcblx0XHRcdH0pXG5cdFx0XHQuYWRkQnV0dG9uKChjb21wb25lbnQpID0+IHtcblx0XHRcdFx0Y29tcG9uZW50LmJ1dHRvbkVsLmFkZENsYXNzKFwiYXN5c19fc2V0dGluZy1zbWFsbFwiKTtcblx0XHRcdFx0Y29tcG9uZW50LnNldEJ1dHRvblRleHQoXCJOZXdcIik7XG5cdFx0XHRcdGNvbXBvbmVudC5vbkNsaWNrKGFzeW5jICgpID0+IHtcblx0XHRcdFx0XHRpZiAodGhpcy5pc05hbWVBdmFpbGFibGUobmV3TmFtZSkpIHtcblx0XHRcdFx0XHRcdHRoaXMuYWRkU2V0dGluZyhuZXdOYW1lKTtcblx0XHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuXHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5kaXNwbGF5KCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9KTtcblx0XHRcdH0pO1xuXG5cdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG5cdFx0XHQuc2V0SGVhZGluZygpXG5cdFx0XHQuc2V0TmFtZShcIkNvbmZpZ3VyZVwiKVxuXHRcdFx0LnNldENsYXNzKFwiYXN5c19fc2V0dGluZy1oZWFkaW5nXCIpO1xuXG5cdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG5cdFx0XHQuc2V0TmFtZShcIkFQSSBwcm92aWRlclwiKVxuXHRcdFx0LmFkZERyb3Bkb3duKChjb21wb25lbnQpID0+IHtcblx0XHRcdFx0Y29tcG9uZW50LnNlbGVjdEVsLmFkZENsYXNzKFwiYXN5c19fc2V0dGluZy1tZWRpdW1cIik7XG5cdFx0XHRcdGNvbXBvbmVudFxuXHRcdFx0XHRcdC5hZGRPcHRpb25zKFBST1ZJREVSUylcblx0XHRcdFx0XHQuc2V0VmFsdWUoY3VycmVudFNldHRpbmdzLmFwaVByb3ZpZGVyKVxuXHRcdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcblx0XHRcdFx0XHRcdGN1cnJlbnRTZXR0aW5ncy5hcGlQcm92aWRlciA9IHZhbHVlO1xuXHRcdFx0XHRcdFx0Y3VycmVudFNldHRpbmdzLmFwaU1vZGVsID0gXCJjdXN0b21cIjtcblx0XHRcdFx0XHRcdGZvciAodmFyIHZhbHVlIGluIFBST1ZJREVSX01PREVMU1t2YWx1ZV0pIHtcblx0XHRcdFx0XHRcdFx0Y3VycmVudFNldHRpbmdzLmFwaU1vZGVsID0gdmFsdWU7XG5cdFx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG5cdFx0XHRcdFx0XHRhd2FpdCB0aGlzLmRpc3BsYXkoKTtcblx0XHRcdFx0XHR9KTtcblx0XHRcdH0pO1xuXG5cdFx0bGV0IHByb3ZpZGVyID0gY3VycmVudFNldHRpbmdzLmFwaVByb3ZpZGVyO1xuXHRcdGlmIChwcm92aWRlci5lbmRzV2l0aChcImN1c3RvbVwiKSkge1xuXHRcdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG5cdFx0XHRcdC5zZXROYW1lKFwiQVBJIGVuZHBvaW50XCIpXG5cdFx0XHRcdC5zZXREZXNjKFxuXHRcdFx0XHRcdHByb3ZpZGVyID09IFwib3BlbmFpLWN1c3RvbVwiXG5cdFx0XHRcdFx0XHQ/IFwiQW55IE9wZW5BSSBjb21wYXRpYmxlIGVuZHBvaW50LlwiXG5cdFx0XHRcdFx0XHQ6IFwiQW55IEFudGhyb3BpYyBjb21wYXRpYmxlIGVuZHBvaW50LlwiXG5cdFx0XHRcdClcblx0XHRcdFx0LmFkZFRleHQoKGNvbXBvbmVudCkgPT4ge1xuXHRcdFx0XHRcdGNvbXBvbmVudC5pbnB1dEVsLmFkZENsYXNzKFwiYXN5c19fc2V0dGluZy1tZWRpdW1cIik7XG5cdFx0XHRcdFx0Y29tcG9uZW50XG5cdFx0XHRcdFx0XHQuc2V0UGxhY2Vob2xkZXIoXCJFbnRlciBhIHVybFwiKVxuXHRcdFx0XHRcdFx0LnNldFZhbHVlKGN1cnJlbnRTZXR0aW5ncy5hcGlFbmRwb2ludClcblx0XHRcdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcblx0XHRcdFx0XHRcdFx0Y3VycmVudFNldHRpbmdzLmFwaUVuZHBvaW50ID0gdmFsdWU7XG5cdFx0XHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuXHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdH0pO1xuXHRcdH1cblxuXHRcdGxldCBjdXJyZW50OiBzdHJpbmcgPSBjdXJyZW50U2V0dGluZ3MuYXBpTW9kZWw7XG5cdFx0bGV0IGF2YWlsYWJsZTogUmVjb3JkPHN0cmluZywgc3RyaW5nPiA9IHtcblx0XHRcdC4uLlBST1ZJREVSX01PREVMU1tjdXJyZW50U2V0dGluZ3MuYXBpUHJvdmlkZXJdLFxuXHRcdFx0Y3VzdG9tOiBcIkN1c3RvbVwiLFxuXHRcdH07XG5cdFx0aWYgKCEoY3VycmVudCBpbiBhdmFpbGFibGUpKSB7XG5cdFx0XHRmb3IgKHZhciB2YWx1ZSBpbiBhdmFpbGFibGUpIHtcblx0XHRcdFx0Y3VycmVudCA9IHZhbHVlO1xuXHRcdFx0XHRicmVhaztcblx0XHRcdH1cblx0XHRcdGN1cnJlbnRTZXR0aW5ncy5hcGlNb2RlbCA9IGN1cnJlbnQ7XG5cdFx0XHR0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcblx0XHR9XG5cblx0XHRjb25zdCBtb2RlbFNldHRpbmcgPSBuZXcgU2V0dGluZyhjb250YWluZXJFbClcblx0XHRcdC5zZXROYW1lKFwiQVBJIG1vZGVsXCIpXG5cdFx0XHQuYWRkRHJvcGRvd24oKGNvbXBvbmVudCkgPT4ge1xuXHRcdFx0XHRpZiAoY3VycmVudCAhPSBcImN1c3RvbVwiKSB7XG5cdFx0XHRcdFx0Y29tcG9uZW50LnNlbGVjdEVsLmFkZENsYXNzKFwiYXN5c19fc2V0dGluZy1tZWRpdW1cIik7XG5cdFx0XHRcdH1cblx0XHRcdFx0Y29tcG9uZW50XG5cdFx0XHRcdFx0LmFkZE9wdGlvbnMoYXZhaWxhYmxlKVxuXHRcdFx0XHRcdC5zZXRWYWx1ZShjdXJyZW50KVxuXHRcdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcblx0XHRcdFx0XHRcdGN1cnJlbnRTZXR0aW5ncy5hcGlNb2RlbCA9IHZhbHVlO1xuXHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG5cdFx0XHRcdFx0XHRhd2FpdCB0aGlzLmRpc3BsYXkoKTtcblx0XHRcdFx0XHR9KTtcblx0XHRcdH0pO1xuXG5cdFx0aWYgKGN1cnJlbnRTZXR0aW5ncy5hcGlNb2RlbC5lbmRzV2l0aChcImN1c3RvbVwiKSkge1xuXHRcdFx0bW9kZWxTZXR0aW5nLmFkZFRleHQoKHRleHQpID0+IHtcblx0XHRcdFx0dGV4dC5pbnB1dEVsLmFkZENsYXNzKFwiYXN5c19fc2V0dGluZy1tZWRpdW1cIik7XG5cdFx0XHRcdHRleHQuc2V0UGxhY2Vob2xkZXIoXCJFbnRlciBhIG1vZGVsIG5hbWVcIilcblx0XHRcdFx0XHQuc2V0VmFsdWUoY3VycmVudFNldHRpbmdzLmFwaU1vZGVsQ3VzdG9tKVxuXHRcdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcblx0XHRcdFx0XHRcdGN1cnJlbnRTZXR0aW5ncy5hcGlNb2RlbEN1c3RvbSA9IHZhbHVlO1xuXHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG5cdFx0XHRcdFx0fSk7XG5cdFx0XHR9KTtcblx0XHR9XG5cblx0XHRuZXcgU2V0dGluZyhjb250YWluZXJFbCkuc2V0TmFtZShcIkFQSSBrZXlcIikuYWRkVGV4dCgodGV4dCkgPT4ge1xuXHRcdFx0dGV4dC5pbnB1dEVsLmFkZENsYXNzKFwiYXN5c19fc2V0dGluZy1tZWRpdW1cIik7XG5cdFx0XHR0ZXh0LnNldFBsYWNlaG9sZGVyKFwiRW50ZXIgeW91ciBrZXlcIilcblx0XHRcdFx0LnNldFZhbHVlKGN1cnJlbnRTZXR0aW5ncy5hcGlLZXkpXG5cdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcblx0XHRcdFx0XHRjdXJyZW50U2V0dGluZ3MuYXBpS2V5ID0gdmFsdWU7XG5cdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG5cdFx0XHRcdH0pO1xuXHRcdH0pO1xuXG5cdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG5cdFx0XHQuc2V0TmFtZShcIlN5c3RlbSBwcm9tcHRcIilcblx0XHRcdC5hZGRUZXh0QXJlYSgodGV4dCkgPT4ge1xuXHRcdFx0XHR0ZXh0LnNldFZhbHVlKGN1cnJlbnRTZXR0aW5ncy5zeXN0ZW1Qcm9tcHQpO1xuXHRcdFx0XHR0ZXh0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xuXHRcdFx0XHRcdGN1cnJlbnRTZXR0aW5ncy5zeXN0ZW1Qcm9tcHQgPSB2YWx1ZTtcblx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcblx0XHRcdFx0fSk7XG5cdFx0XHRcdHRleHQuaW5wdXRFbC5hZGRDbGFzcyhcImFzeXNfX3NldHRpbmctcHJvbXB0XCIpO1xuXHRcdFx0XHR0ZXh0LnNldFBsYWNlaG9sZGVyKFwiRGVmYXVsdFwiKTtcblx0XHRcdH0pO1xuXG5cdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpLnNldE5hbWUoXCJNYXggdG9rZW5zXCIpLmFkZFRleHQoKHRleHQpID0+IHtcblx0XHRcdHRleHQuaW5wdXRFbC5hZGRDbGFzcyhcImFzeXNfX3NldHRpbmctbWVkaXVtXCIpO1xuXHRcdFx0dGV4dC5zZXRQbGFjZWhvbGRlcihcIkRlZmF1bHRcIilcblx0XHRcdFx0LnNldFZhbHVlKGN1cnJlbnRTZXR0aW5ncy5tYXhUb2tlbnM/LnRvRml4ZWQoMCkgPz8gXCJcIilcblx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xuXHRcdFx0XHRcdGN1cnJlbnRTZXR0aW5ncy5tYXhUb2tlbnMgPSBOdW1iZXIucGFyc2VJbnQodmFsdWUpO1xuXHRcdFx0XHRcdGlmICghTnVtYmVyLmlzRmluaXRlKGN1cnJlbnRTZXR0aW5ncy5tYXhUb2tlbnMpKSB7XG5cdFx0XHRcdFx0XHRjdXJyZW50U2V0dGluZ3MubWF4VG9rZW5zID0gbnVsbDtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG5cdFx0XHRcdH0pO1xuXHRcdH0pO1xuXG5cdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpLnNldE5hbWUoXCJUZW1wZXJhdHVyZVwiKS5hZGRUZXh0KCh0ZXh0KSA9PiB7XG5cdFx0XHR0ZXh0LmlucHV0RWwuYWRkQ2xhc3MoXCJhc3lzX19zZXR0aW5nLW1lZGl1bVwiKTtcblx0XHRcdHRleHQuc2V0UGxhY2Vob2xkZXIoXCJEZWZhdWx0XCIpXG5cdFx0XHRcdC5zZXRWYWx1ZShjdXJyZW50U2V0dGluZ3MudGVtcGVyYXR1cmU/LnRvRml4ZWQoMikgPz8gXCJcIilcblx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xuXHRcdFx0XHRcdGN1cnJlbnRTZXR0aW5ncy50ZW1wZXJhdHVyZSA9IE51bWJlci5wYXJzZUZsb2F0KHZhbHVlKTtcblx0XHRcdFx0XHRpZiAoIU51bWJlci5pc0Zpbml0ZShjdXJyZW50U2V0dGluZ3MudGVtcGVyYXR1cmUpKSB7XG5cdFx0XHRcdFx0XHRjdXJyZW50U2V0dGluZ3MudGVtcGVyYXR1cmUgPSBudWxsO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcblx0XHRcdFx0fSk7XG5cdFx0fSk7XG5cblx0XHRuZXcgU2V0dGluZyhjb250YWluZXJFbCkuc2V0TmFtZShcIlRvcCBLXCIpLmFkZFRleHQoKHRleHQpID0+IHtcblx0XHRcdHRleHQuaW5wdXRFbC5hZGRDbGFzcyhcImFzeXNfX3NldHRpbmctbWVkaXVtXCIpO1xuXHRcdFx0dGV4dC5zZXRQbGFjZWhvbGRlcihcIkRlZmF1bHRcIilcblx0XHRcdFx0LnNldFZhbHVlKGN1cnJlbnRTZXR0aW5ncy50b3BLPy50b0ZpeGVkKDIpID8/IFwiXCIpXG5cdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcblx0XHRcdFx0XHRjdXJyZW50U2V0dGluZ3MudG9wSyA9IE51bWJlci5wYXJzZUZsb2F0KHZhbHVlKTtcblx0XHRcdFx0XHRpZiAoIU51bWJlci5pc0Zpbml0ZShjdXJyZW50U2V0dGluZ3MudG9wSykpIHtcblx0XHRcdFx0XHRcdGN1cnJlbnRTZXR0aW5ncy50b3BLID0gbnVsbDtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG5cdFx0XHRcdH0pO1xuXHRcdH0pO1xuXG5cdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpLnNldE5hbWUoXCJUb3AgUFwiKS5hZGRUZXh0KCh0ZXh0KSA9PiB7XG5cdFx0XHR0ZXh0LmlucHV0RWwuYWRkQ2xhc3MoXCJhc3lzX19zZXR0aW5nLW1lZGl1bVwiKTtcblx0XHRcdHRleHQuc2V0UGxhY2Vob2xkZXIoXCJEZWZhdWx0XCIpXG5cdFx0XHRcdC5zZXRWYWx1ZShjdXJyZW50U2V0dGluZ3MudG9wUD8udG9GaXhlZCgyKSA/PyBcIlwiKVxuXHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XG5cdFx0XHRcdFx0Y3VycmVudFNldHRpbmdzLnRvcFAgPSBOdW1iZXIucGFyc2VGbG9hdCh2YWx1ZSk7XG5cdFx0XHRcdFx0aWYgKCFOdW1iZXIuaXNGaW5pdGUoY3VycmVudFNldHRpbmdzLnRvcFApKSB7XG5cdFx0XHRcdFx0XHRjdXJyZW50U2V0dGluZ3MudG9wUCA9IG51bGw7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuXHRcdFx0XHR9KTtcblx0XHR9KTtcblxuXHRcdGlmIChjdXJyZW50U2V0dGluZ3MuYXBpUHJvdmlkZXIgIT0gXCJhbnRocm9waWNcIikge1xuXHRcdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG5cdFx0XHRcdC5zZXROYW1lKFwiRnJlcXVlbmN5IHBlbmFsdHlcIilcblx0XHRcdFx0LmFkZFRleHQoKHRleHQpID0+IHtcblx0XHRcdFx0XHR0ZXh0LmlucHV0RWwuYWRkQ2xhc3MoXCJhc3lzX19zZXR0aW5nLW1lZGl1bVwiKTtcblx0XHRcdFx0XHR0ZXh0LnNldFBsYWNlaG9sZGVyKFwiRGVmYXVsdFwiKVxuXHRcdFx0XHRcdFx0LnNldFZhbHVlKFxuXHRcdFx0XHRcdFx0XHRjdXJyZW50U2V0dGluZ3MuZnJlcXVlbmN5UGVuYWx0eT8udG9GaXhlZCgyKSA/PyBcIlwiXG5cdFx0XHRcdFx0XHQpXG5cdFx0XHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XG5cdFx0XHRcdFx0XHRcdGN1cnJlbnRTZXR0aW5ncy5mcmVxdWVuY3lQZW5hbHR5ID1cblx0XHRcdFx0XHRcdFx0XHROdW1iZXIucGFyc2VGbG9hdCh2YWx1ZSk7XG5cdFx0XHRcdFx0XHRcdGlmIChcblx0XHRcdFx0XHRcdFx0XHQhTnVtYmVyLmlzRmluaXRlKFxuXHRcdFx0XHRcdFx0XHRcdFx0Y3VycmVudFNldHRpbmdzLmZyZXF1ZW5jeVBlbmFsdHlcblx0XHRcdFx0XHRcdFx0XHQpXG5cdFx0XHRcdFx0XHRcdCkge1xuXHRcdFx0XHRcdFx0XHRcdGN1cnJlbnRTZXR0aW5ncy5mcmVxdWVuY3lQZW5hbHR5ID0gbnVsbDtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcblx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHR9KTtcblx0XHR9XG5cdH1cbn1cbiJdLAogICJtYXBwaW5ncyI6ICI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxJQUFBQSxtQkFBc0M7OztBQ0F0QyxzQkFPTzs7O0FDTEEsSUFBTSxZQUFvQjtBQThDMUIsSUFBTSxhQUFxQztBQUFBLEVBQ2pELEtBQUs7QUFBQSxFQUNMLE9BQU87QUFBQSxFQUNQLE9BQU87QUFBQSxFQUNQLE9BQU87QUFBQSxFQUNQLE9BQU87QUFBQSxFQUNQLE9BQU87QUFBQSxFQUNQLE9BQU87QUFBQSxFQUNQLE9BQU87QUFBQSxFQUNQLE9BQU87QUFBQSxFQUNQLE9BQU87QUFBQSxFQUNQLE9BQU87QUFBQSxFQUNQLE9BQU87QUFBQSxFQUNQLE9BQU87QUFBQSxFQUNQLE9BQU87QUFBQSxFQUNQLE9BQU87QUFBQSxFQUNQLE9BQU87QUFBQSxFQUNQLE9BQU87QUFBQSxFQUNQLE9BQU87QUFBQSxFQUNQLE9BQU87QUFBQSxFQUNQLE9BQU87QUFBQSxFQUNQLE9BQU87QUFBQSxFQUNQLE9BQU87QUFBQSxFQUNQLE9BQU87QUFBQSxFQUNQLE9BQU87QUFBQSxFQUNQLE9BQU87QUFBQSxFQUNQLE9BQU87QUFBQSxFQUNQLE9BQU87QUFBQSxFQUNQLE9BQU87QUFBQSxFQUNQLE9BQU87QUFBQSxFQUNQLE9BQU87QUFBQSxFQUNQLE9BQU87QUFBQSxFQUNQLE9BQU87QUFBQSxFQUNQLE9BQU87QUFBQSxFQUNQLE9BQU87QUFBQSxFQUNQLE9BQU87QUFBQSxFQUNQLE9BQU87QUFBQSxFQUNQLE9BQU87QUFBQSxFQUNQLE9BQU87QUFBQSxFQUNQLE9BQU87QUFBQSxFQUNQLE9BQU87QUFBQSxFQUNQLE9BQU87QUFBQSxFQUNQLE9BQU87QUFDUjs7O0FDekVPLFNBQVNDLGFBQWFDLFNBQXNEO0FBRTdFLE1BQUFD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QUFPLFVBQVUsR0FBRztBQUN2QixlQUFLLElBQUksVUFBVSxXQUFXLE9BQU8sQ0FBQyxDQUFDO0FBQUEsUUFDeEM7QUFBQSxNQUNEO0FBQUEsSUFDRCxDQUFDO0FBRUQsU0FBSyxjQUFjLElBQUksZUFBZSxLQUFLLEtBQUssSUFBSSxDQUFDO0FBQUEsRUFDdEQ7QUFBQSxFQUVBLFdBQVc7QUFBQSxFQUFDO0FBQUEsRUFFWixNQUFNLGVBQWU7QUFDcEIsVUFBTSxFQUFFLFVBQVUsSUFBSSxLQUFLO0FBRTNCLGNBQVUsY0FBYyxZQUFZO0FBQ25DLFVBQUksT0FBNkI7QUFDakMsWUFBTSxTQUFTLFVBQVUsZ0JBQWdCLGNBQWM7QUFDdkQsVUFBSSxPQUFPLFVBQVUsR0FBRztBQUN2QixlQUFPLFVBQVUsYUFBYSxLQUFLO0FBQ25DLGVBQU0sNkJBQU0sYUFBYTtBQUFBLFVBQ3hCLE1BQU07QUFBQSxVQUNOLFFBQVE7QUFBQSxRQUNUO0FBQUEsTUFDRDtBQUFBLElBQ0QsQ0FBQztBQUFBLEVBQ0Y7QUFBQSxFQUVBLE1BQU0sZUFBZTtBQUNwQixRQUFJLFFBQVEsQ0FBQztBQUNiLFFBQUk7QUFDSCxjQUFRLE1BQU0sS0FBSyxTQUFTO0FBQUEsSUFDN0IsU0FBUyxHQUFQO0FBQ0QsY0FBUSxJQUFJLDJCQUEyQixDQUFDO0FBQUEsSUFDekM7QUFDQSxTQUFLLFdBQVcsT0FBTyxPQUFPLENBQUMsR0FBRyxrQkFBa0IsS0FBSztBQUFBLEVBQzFEO0FBQUEsRUFFQSxNQUFNLGVBQWU7QUFDcEIsVUFBTSxLQUFLLFNBQVMsS0FBSyxRQUFRO0FBQUEsRUFDbEM7QUFDRDsiLAogICJuYW1lcyI6IFsiaW1wb3J0X29ic2lkaWFuIiwgImNyZWF0ZVBhcnNlciIsICJvblBhcnNlIiwgImlzRmlyc3RDaHVuayIsICJidWZmZXIiLCAic3RhcnRpbmdQb3NpdGlvbiIsICJzdGFydGluZ0ZpZWxkTGVuZ3RoIiwgImV2ZW50SWQiLCAiZXZlbnROYW1lIiwgImRhdGEiLCAicmVzZXQiLCAiZmVlZCIsICJjaHVuayIsICJoYXNCb20iLCAic2xpY2UiLCAiQk9NIiwgImxlbmd0aCIsICJwb3NpdGlvbiIsICJkaXNjYXJkVHJhaWxpbmdOZXdsaW5lIiwgImxpbmVMZW5ndGgiLCAiZmllbGRMZW5ndGgiLCAiY2hhcmFjdGVyIiwgImluZGV4IiwgInBhcnNlRXZlbnRTdHJlYW1MaW5lIiwgImxpbmVCdWZmZXIiLCAidHlwZSIsICJpZCIsICJldmVudCIsICJub1ZhbHVlIiwgImZpZWxkIiwgInN0ZXAiLCAidmFsdWVMZW5ndGgiLCAidmFsdWUiLCAidG9TdHJpbmciLCAiY29uY2F0IiwgImluY2x1ZGVzIiwgInJldHJ5IiwgInBhcnNlSW50IiwgIk51bWJlciIsICJpc05hTiIsICJldmVyeSIsICJjaGFyQ29kZSIsICJjaGFyQ29kZUF0IiwgImRvY3VtZW50IiwgInJlcXVlc3QiLCAiY2h1bmsiLCAiZG9jdW1lbnQiLCAiaW1wb3J0X29ic2lkaWFuIiwgInZhbHVlIl0KfQo=
